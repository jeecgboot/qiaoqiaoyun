import{d as L,f as s,e as S,g as _,V as h,a6 as O,a7 as V,a8 as z,ae as M,k as $,W as A}from"./vue-vendor-24c7dc61.js";import{H as p,h as j,j as N,bI as E,l as H}from"./index-831af9dd.js";import"./index-1c3affea.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";const P=L({name:"AutoDesformDataFullScreen",props:{zIndex:p.number.def(999),defaultFormData:p.object.def({}),widgetConfig:p.array},emits:["register","success","close"],setup(e,{emit:l}){const{prefixCls:v}=j("auto-desform-data-full-screen"),a=s("add"),n=s(!1),r=s(null),t=s(null),d=s("rgba(0,0,0,0.6)"),g=s(!1),i=s(!1);let u=null;const C=s(!1),c=s(""),I=s("");let[k]=N(w);const D=_();D&&k({closeModal:f,getVisible:S(()=>n.value),setModalProps:()=>{}},D.uid);function w(o){g.value=o.isOnline,i.value=o.isLinkDialog,a.value=o.mode,t.value=o.dataId,r.value=o.desformCode,n.value=!0,u=document.body.style.overflow,document.body.style.overflow="hidden",C.value=o.isLinkRecordForm||!1,c.value=o.customButtonId||"",I.value=o.currentRecordId||""}function f(){d.value="rgba(0,0,0,0)",E(150,()=>b())}function b(){l("close"),n.value=!1,d.value="rgba(0,0,0,0.6)",document.body.style.overflow=u,u=null}function F(){f()}function R(o){let y=o.dataId,{newData:m}=o;m._id||(m._id=y),l("success",{dataId:y,newData:m,isLinkRecordForm:C.value,customButtonId:c.value,currentRecordId:I.value}),(!i.value||a.value==="add")&&f()}function B(){l("success")}return{prefixCls:v,mode:a,dataId:t,bgColor:d,visible:n,isOnline:g,isLinkDialog:i,desformCode:r,forceClose:b,onClose:F,onReload:B,onSuccess:R,customButtonId:c}}});function T(e,l,v,a,n,r){const t=h("DesformView");return e.visible?(O(),V("div",{key:0,class:z(e.prefixCls),style:M({backgroundColor:e.bgColor,zIndex:e.zIndex})},[$(t,{class:"desform-view",innerDialog:"",height:"100vh",mode:e.mode,dataId:e.dataId,isOnline:e.isOnline,isLinkDialog:e.isLinkDialog,desformCode:e.desformCode,defaultFormData:e.defaultFormData,widgetConfig:e.widgetConfig,customButtonId:e.customButtonId,onClose:e.onClose,onForceClose:e.forceClose,onSuccess:e.onSuccess,onReload:e.onReload},null,8,["mode","dataId","isOnline","isLinkDialog","desformCode","defaultFormData","widgetConfig","customButtonId","onClose","onForceClose","onSuccess","onReload"])],6)):A("",!0)}const X=H(P,[["render",T],["__scopeId","data-v-52e7c680"]]);export{X as default};
