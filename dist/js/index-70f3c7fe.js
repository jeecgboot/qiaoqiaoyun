var Le=Object.defineProperty;var j=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var se=(e,n,o)=>n in e?Le(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,q=(e,n)=>{for(var o in n||(n={}))ae.call(n,o)&&se(e,o,n[o]);if(j)for(var o of j(n))le.call(n,o)&&se(e,o,n[o]);return e};var ie=(e,n)=>{var o={};for(var s in e)ae.call(e,s)&&n.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&j)for(var s of j(e))n.indexOf(s)<0&&le.call(e,s)&&(o[s]=e[s]);return o};var F=(e,n,o)=>new Promise((s,S)=>{var u=r=>{try{c(o.next(r))}catch(h){S(h)}},d=r=>{try{c(o.throw(r))}catch(h){S(h)}},c=r=>r.done?s(r.value):Promise.resolve(r.value).then(u,d);c((o=o.apply(e,n)).next())});import{Z as pe,R as Te,H as v,h as X,bO as re,_ as ge,o as de,l as Y,bP as ve,bQ as _e,bR as he,bS as Ne,z as $e,as as te,bT as ke,bJ as ne,bU as Ie,bM as E,bV as ue,bW as He,bX as Pe,bY as Ae,bZ as Ee,bG as Se,bN as fe,bn as Be,aZ as Oe,S as Re,bK as Me,b_ as Fe,b$ as De,a7 as Ue,d as ze,bF as Ve,bL as ce}from"./index-831af9dd.js";import{d as x,e as p,V as g,a6 as i,a7 as O,F as W,af as w,ag as K,ai as D,a5 as J,a8 as b,ak as U,k as $,W as M,q as We,A as Ke,am as we,f as Q,r as Ge,a2 as ye,H as me,w as V,u as t,y as Ze,o as je,I as qe,ae as Je}from"./vue-vendor-24c7dc61.js";import{ac as Qe}from"./antd-vue-vendor-0d72f01e.js";import{B as Xe}from"./index-158ad271.js";import{M as Ye,u as xe}from"./useOpenKeys-0758de45.js";import{S as et,M as tt}from"./SubMenuItem-cfcb4516.js";import"./SimpleMenuTag-e41510fe.js";import{L as nt}from"./index-7a1d97e6.js";import{u as ot}from"./useHeaderSetting-7889be2c.js";import{L as st,U as at,F as lt,N as it,E as rt,a as ut}from"./index-07670f1d.js";import ct from"./LoginSelect-d08d3d93.js";const mt=x({name:"SimpleSubMenu",components:{SubMenu:et,MenuItem:tt,SimpleMenuTag:pe(()=>ge(()=>import("./SimpleMenuTag-e41510fe.js"),["js/SimpleMenuTag-e41510fe.js","js/vue-vendor-24c7dc61.js","js/index-831af9dd.js","js/antd-vue-vendor-0d72f01e.js","js/vxe-table-vendor-8813019a.js","assets/index-3d0fbd8d.css"])),Icon:Te},props:{item:{type:Object,default:()=>({})},parent:v.bool,collapsedShowTitle:v.bool,collapse:v.bool,theme:v.oneOf(["dark","light"])},setup(e){const{t:n}=de(),{prefixCls:o}=X("simple-menu"),s=p(()=>{var a,f;return!((f=(a=e.item)==null?void 0:a.meta)!=null&&f.hideMenu)}),S=p(()=>{var a;return(a=e.item)==null?void 0:a.icon}),u=p(()=>{var a;return n((a=e.item)==null?void 0:a.name)}),d=p(()=>!e.collapse||!e.parent),c=p(()=>!!e.collapse&&!!e.parent),r=p(()=>[{[`${o}__parent`]:e.parent,[`${o}__children`]:!e.parent}]);function h(a){var f;return!((f=a.meta)!=null&&f.hideChildrenInMenu)&&Reflect.has(a,"children")&&!!a.children&&a.children.length>0&&re(a)}return{prefixCls:o,menuHasChildren:h,checkChildrenHidden:re,getShowMenu:s,getIcon:S,getI18nName:u,getShowSubTitle:d,getLevelClass:r,getIsCollapseParent:c}}}),pt={key:1,class:"mt-1 collapse-title"},gt={key:1,class:"mt-2 collapse-title"};function dt(e,n,o,s,S,u){const d=g("Icon"),c=g("SimpleMenuTag"),r=g("MenuItem"),h=g("SimpleSubMenu",!0),a=g("SubMenu");return i(),O(W,null,[!e.menuHasChildren(e.item)&&e.getShowMenu?(i(),w(r,K({key:0,name:e.item.path},e.$props,{class:e.getLevelClass}),{title:D(()=>[J("span",{class:b(["ml-2",`${e.prefixCls}-sub-title`])},U(e.getI18nName),3),$(c,{item:e.item,collapseParent:e.getIsCollapseParent},null,8,["item","collapseParent"])]),default:D(()=>[e.getIcon?(i(),w(d,{key:0,icon:e.getIcon,size:16},null,8,["icon"])):M("",!0),e.collapsedShowTitle&&e.getIsCollapseParent?(i(),O("div",pt,U(e.getI18nName),1)):M("",!0)]),_:1},16,["name","class"])):M("",!0),e.menuHasChildren(e.item)&&e.getShowMenu?(i(),w(a,{key:1,name:e.item.path,class:b([e.getLevelClass,e.theme]),collapsedShowTitle:e.collapsedShowTitle},{title:D(()=>[e.getIcon?(i(),w(d,{key:0,icon:e.getIcon,size:16},null,8,["icon"])):M("",!0),e.collapsedShowTitle&&e.getIsCollapseParent?(i(),O("div",gt,U(e.getI18nName),1)):M("",!0),We(J("span",{class:b(["ml-2",`${e.prefixCls}-sub-title`])},U(e.getI18nName),3),[[Ke,e.getShowSubTitle]]),$(c,{item:e.item,collapseParent:!!e.collapse&&!!e.parent},null,8,["item","collapseParent"])]),default:D(()=>[(i(!0),O(W,null,we(e.item.children||[],f=>(i(),w(h,K({key:f.path},e.$props,{item:f,parent:!1}),null,16,["item"]))),128))]),_:1},8,["name","class","collapsedShowTitle"])):M("",!0)],64)}const ht=Y(mt,[["render",dt]]),St=x({name:"SimpleMenu",components:{Menu:Ye,SimpleSubMenu:ht},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},collapse:v.bool,mixSider:v.bool,theme:v.string,accordion:v.bool.def(!0),collapsedShowTitle:v.bool,beforeClickFn:{type:Function},isSplitMenu:v.bool},emits:["menuClick"],setup(e,{attrs:n,emit:o}){const s=Q(""),S=Q(!1),u=Ge({activeName:"",openNames:[],activeSubMenuNames:[]}),{currentRoute:d}=ye(),{prefixCls:c}=X("simple-menu"),{items:r,accordion:h,mixSider:a,collapse:f}=me(e),{setOpenKeys:C,getOpenKeys:k}=xe(u,r,h,a,f),_=p(()=>q(q({},n),e));V(()=>e.collapse,l=>{l?u.openNames=[]:C(d.value.path)},{immediate:!0}),V(()=>e.items,()=>{e.isSplitMenu&&C(d.value.path)},{flush:"post"}),ve(l=>{var m;l.name!==_e&&(s.value=(m=l.meta)==null?void 0:m.currentActiveMenu,L(l),t(s)&&(u.activeName=t(s),C(t(s))))});function L(l){return F(this,null,function*(){if(t(S)){S.value=!1;return}const m=(l||t(d)).path;u.activeName=m,C(m)})}function T(l){return F(this,null,function*(){if(he(l)){let H=l.replace(Ne,"#");window.open(H);return}const m=N(e.items,l);if((m==null?void 0:m.internalOrExternal)==!0){window.open(location.origin+l);return}const{beforeClickFn:I}=e;I&&$e(I)&&!(yield I(l))||(o("menuClick",l),S.value=!0,C(l),u.activeName=l)})}const N=(l,m)=>{var I;for(let H=0,z=l.length;H<z;H++){const P=l[H];if(P.path===m&&!P.redirect&&!P.paramPath)return P;if((I=P.children)!=null&&I.length){const B=N(P.children,m);if(B)return B}}return""};return q({prefixCls:c,getBindValues:_,handleSelect:T,getOpenKeys:k},me(u))}});function ft(e,n,o,s,S,u){const d=g("SimpleSubMenu"),c=g("Menu");return i(),w(c,K(e.getBindValues,{activeName:e.activeName,openNames:e.getOpenKeys,class:e.prefixCls,activeSubMenuNames:e.activeSubMenuNames,onSelect:e.handleSelect}),{default:D(()=>[(i(!0),O(W,null,we(e.items,r=>(i(),w(d,{key:r.path,item:r,parent:!0,collapsedShowTitle:e.collapsedShowTitle,collapse:e.collapse},null,8,["item","collapsedShowTitle","collapse"]))),128))]),_:1},16,["activeName","openNames","class","activeSubMenuNames","onSelect"])}const Mt=Y(St,[["render",ft]]);function wt(e){const n=Q([]),{currentRoute:o}=ye(),{getIsMobile:s}=te(),S=ke(),{setMenuSetting:u,getIsHorizontal:d,getSplit:c}=ne(),r=Ie(k,50),h=p(()=>t(e)!==E.LEFT&&!t(d)),a=p(()=>!t(c)||t(e)!==E.LEFT),f=p(()=>t(e)===E.TOP),C=p(()=>t(e)===E.NONE||!t(c));V([()=>t(o).path,()=>t(e)],T=>F(this,[T],function*([L]){if(t(h)||t(s))return;const{meta:N}=t(o),l=N.currentActiveMenu;let m=yield ue(L);m||(m=yield ue(l)),m&&r(m)}),{immediate:!0}),V([()=>S.getLastBuildMenuTime,()=>S.getBackMenuList],()=>{_()},{immediate:!0}),V(()=>c.value,()=>{t(h)||_()});function k(L){return F(this,null,function*(){if(t(a)||t(s))return;const T=yield He(L);if(!T||!T.length){u({hidden:!0}),n.value=[];return}u({hidden:!1}),n.value=T})}function _(){return F(this,null,function*(){if(t(C)||t(s)){n.value=yield Pe();return}if(t(f)){const L=yield Ae();n.value=L;return}})}return{menusRef:n}}const yt=x({name:"LayoutMenu",props:{theme:v.oneOf(["light","dark"]),splitType:{type:Number,default:E.NONE},isHorizontal:v.bool,menuMode:{type:[String],default:""}},setup(e){const n=Ee(),{getMenuMode:o,getMenuType:s,getMenuTheme:S,getCollapsed:u,getCollapsedShowTitle:d,getAccordion:c,getIsHorizontal:r,getIsSidebarType:h,getSplit:a}=ne(),{getShowLogo:f}=Se(),{prefixCls:C}=X("layout-menu"),{menusRef:k}=wt(Ze(e,"splitType")),{getIsMobile:_}=te(),L=p(()=>t(_)?fe.INLINE:e.menuMode||t(o)),T=p(()=>e.theme||t(S)),N=p(()=>t(f)&&t(h)),l=p(()=>!t(r)&&(t(h)||e.splitType===E.LEFT||e.splitType===E.NONE)),m=p(()=>({height:`calc(100% - ${t(N)?"48px":"0px"})`})),I=p(()=>[`${C}-logo`,t(T),{[`${C}--mobile`]:t(_)}]),H=p(()=>{const y=t(k);return{menus:y,beforeClickFn:B,items:y,theme:t(T),accordion:t(c),collapse:t(u),collapsedShowTitle:t(d),onMenuClick:P}}),z=Be();function P(y,R){R&&z.setPathTitle(y,R.title||""),n(y)}function B(y){return F(this,null,function*(){return he(y)?(Oe(y),!1):!0})}function ee(){return!t(N)&&!t(_)?null:$(Me,{showTitle:!t(u),class:t(I),theme:t(T)},null)}function G(){const Z=t(H),{menus:y}=Z,R=ie(Z,["menus"]);return!y||!y.length?null:e.isHorizontal?$(Xe,K(R,{isHorizontal:e.isHorizontal,type:t(s),showLogo:t(N),mode:t(L),items:y}),null):$(Mt,K(R,{isSplitMenu:t(a),items:y}),null)}return()=>$(W,null,[ee(),t(l)?$(Re,{style:t(m)},{default:()=>G()}):G()])}});const bt=Y(yt,[["__scopeId","data-v-64aebaa6"]]),{t:Ct}=de(),Lt=x({name:"LayoutHeader",components:{Header:Qe.Header,AppLogo:Me,LayoutTrigger:nt,LayoutBreadcrumb:st,LayoutMenu:bt,UserDropDown:at,AppLocalePicker:Fe,FullScreen:lt,Notify:it,AppSearch:De,ErrorAction:rt,LockScreen:ut,LoginSelect:ct,SettingDrawer:pe(()=>ge(()=>import("./index-70dd1411.js").then(e=>e.i),["js/index-70dd1411.js","js/vue-vendor-24c7dc61.js","js/index-44229d9b.js","js/index-831af9dd.js","js/antd-vue-vendor-0d72f01e.js","js/vxe-table-vendor-8813019a.js","assets/index-3d0fbd8d.css","assets/index-60383c19.css","js/useHeaderSetting-7889be2c.js","js/useMultipleTabSetting-1a491ba1.js"]),{loading:!0})},props:{fixed:v.bool},setup(e){const{prefixCls:n}=X("layout-header"),o=Ue(),{getShowTopMenu:s,getShowHeaderTrigger:S,getSplit:u,getIsMixMode:d,getMenuWidth:c,getIsMixSidebar:r}=ne(),{getUseErrorHandle:h,getShowSettingButton:a,getSettingButtonPosition:f}=Se(),{title:C}=ze(),{getHeaderTheme:k,getShowFullScreen:_,getShowNotice:L,getShowContent:T,getShowBread:N,getShowHeaderLogo:l,getShowHeader:m,getShowSearch:I,getUseLockPage:H,getShowBreadTitle:z}=ot(),{getShowLocalePicker:P}=Ve(),{getIsMobile:B}=te(),ee=p(()=>{const A=t(k);return[n,{[`${n}--fixed`]:e.fixed,[`${n}--mobile`]:t(B),[`${n}--${A}`]:A}]}),G=p(()=>{if(!t(a))return!1;const A=t(f);return A===ce.AUTO?t(m):A===ce.HEADER}),y=p(()=>!t(d)||t(B)?{}:{width:`${t(c)<180?180:t(c)}px`}),R=p(()=>t(u)?E.TOP:E.NONE),Z=p(()=>t(u)?fe.HORIZONTAL:null),oe=Q();function be(){const A=qe(o.getLoginInfo)||{};A.isLogin&&oe.value.show(A)}function Ce(){}return je(()=>{be()}),{prefixCls:n,getHeaderClass:ee,getShowHeaderLogo:l,getHeaderTheme:k,getShowHeaderTrigger:S,getIsMobile:B,getShowBreadTitle:z,getShowBread:N,getShowContent:T,getSplitType:R,getSplit:u,getMenuMode:Z,getShowTopMenu:s,getShowLocalePicker:P,getShowFullScreen:_,getShowNotice:L,getUseErrorHandle:h,getLogoWidth:y,getIsMixSidebar:r,getShowSettingButton:a,getShowSetting:G,getShowSearch:I,getUseLockPage:H,loginSelectOk:Ce,loginSelectRef:oe,title:C,t:Ct}}});function Tt(e,n,o,s,S,u){const d=g("AppLogo"),c=g("LayoutTrigger"),r=g("LayoutBreadcrumb"),h=g("LayoutMenu"),a=g("AppSearch"),f=g("ErrorAction"),C=g("Notify"),k=g("FullScreen"),_=g("LockScreen"),L=g("AppLocalePicker"),T=g("UserDropDown"),N=g("SettingDrawer"),l=g("Header"),m=g("LoginSelect");return i(),O(W,null,[$(l,{class:b(e.getHeaderClass)},{default:D(()=>[J("div",{class:b(`${e.prefixCls}-left`)},[e.getShowHeaderLogo||e.getIsMobile?(i(),w(d,{key:0,class:b(`${e.prefixCls}-logo`),theme:e.getHeaderTheme,style:Je(e.getLogoWidth)},null,8,["class","theme","style"])):M("",!0),e.getShowContent&&e.getShowHeaderTrigger&&!e.getSplit&&!e.getIsMixSidebar||e.getIsMobile?(i(),w(c,{key:1,theme:e.getHeaderTheme,sider:!1},null,8,["theme"])):M("",!0),e.getShowContent&&e.getShowBread?(i(),w(r,{key:2,theme:e.getHeaderTheme},null,8,["theme"])):M("",!0),e.getShowContent&&e.getShowBreadTitle&&!e.getIsMobile?(i(),O("span",{key:3,class:b([e.prefixCls,`${e.prefixCls}--${e.getHeaderTheme}`,"headerIntroductionClass"])},U(e.t("layout.header.welcomeIn"))+" "+U(e.title),3)):M("",!0)],2),e.getShowTopMenu&&!e.getIsMobile?(i(),O("div",{key:0,class:b(`${e.prefixCls}-menu`)},[$(h,{isHorizontal:!0,theme:e.getHeaderTheme,splitType:e.getSplitType,menuMode:e.getMenuMode},null,8,["theme","splitType","menuMode"])],2)):M("",!0),J("div",{class:b(`${e.prefixCls}-action`)},[e.getShowSearch?(i(),w(a,{key:0,class:b(`${e.prefixCls}-action__item `)},null,8,["class"])):M("",!0),e.getUseErrorHandle?(i(),w(f,{key:1,class:b(`${e.prefixCls}-action__item error-action`)},null,8,["class"])):M("",!0),e.getShowNotice?(i(),w(C,{key:2,class:b(`${e.prefixCls}-action__item notify-item`)},null,8,["class"])):M("",!0),e.getShowFullScreen?(i(),w(k,{key:3,class:b(`${e.prefixCls}-action__item fullscreen-item`)},null,8,["class"])):M("",!0),e.getUseLockPage?(i(),w(_,{key:4})):M("",!0),e.getShowLocalePicker?(i(),w(L,{key:5,reload:!0,showText:!1,class:b(`${e.prefixCls}-action__item`)},null,8,["class"])):M("",!0),$(T,{theme:e.getHeaderTheme},null,8,["theme"]),e.getShowSetting?(i(),w(N,{key:6,class:b(`${e.prefixCls}-action__item`)},null,8,["class"])):M("",!0)],2)]),_:1},8,["class"]),$(m,{ref:"loginSelectRef",onSuccess:e.loginSelectOk},null,8,["onSuccess"])],64)}const Rt=Y(Lt,[["render",Tt]]);export{Rt as L,Mt as S,bt as a};
