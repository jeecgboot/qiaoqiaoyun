var m=(d,n,t)=>new Promise((e,p)=>{var i=a=>{try{l(t.next(a))}catch(o){p(o)}},r=a=>{try{l(t.throw(a))}catch(o){p(o)}},l=a=>a.done?e(a.value):Promise.resolve(a.value).then(i,r);l((t=t.apply(d,n)).next())});import{f as s,w as f,a5 as c,V as u,a6 as w,af as y,ai as v,k as _,W as h}from"./vue-vendor-24c7dc61.js";import C from"./AppIconSelector-c6c055a9.js";import{a as g}from"./low.app.api-97fc250a.js";import{l as N}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const A={name:"AppInfoUpdateModal",components:{AppIconSelector:C},props:{info:{type:Object,default:()=>{}},visible:{type:Boolean,default:!1}},emits:["update","dbUpdate"],setup(d,{emit:n}){const t=s(""),e=s(""),p=s(!1),i=s("");f(()=>d.visible,a=>{if(a===!0){let o=d.info;t.value=o.iconType,e.value=o.appName,p.value=a,i.value=o.id}},{immediate:!0});function r(){n("update",{iconType:t.value,appName:e.value})}f(p,a=>m(this,null,function*(){a==!1&&(yield l())}));function l(){return m(this,null,function*(){let a={id:i.value,iconType:t.value,appName:e.value};yield g.editNameAndIcon(a),n("dbUpdate")})}return{name:e,icon:t,show:p,onDataChange:r}}},I=c("div",{style:{}},null,-1),U={style:{padding:"0 12px"}};function b(d,n,t,e,p,i){const r=u("a-input"),l=u("AppIconSelector"),a=u("a-dropdown");return e.show?(w(),y(a,{key:0,open:e.show,"onUpdate:open":n[2]||(n[2]=o=>e.show=o),placement:"bottom",trigger:["click"],overlayClassName:"app-update-dropdown header-update-dropdown"},{overlay:v(()=>[c("div",null,[c("div",U,[_(r,{value:e.name,"onUpdate:value":n[0]||(n[0]=o=>e.name=o),style:{width:"100%","text-align":"center"},onChange:e.onDataChange},null,8,["value","onChange"])]),c("div",null,[_(l,{value:e.icon,"onUpdate:value":n[1]||(n[1]=o=>e.icon=o),onChange:e.onDataChange},null,8,["value","onChange"])])])]),default:v(()=>[I]),_:1},8,["open"])):h("",!0)}const M=N(A,[["render",b]]);export{M as default};
