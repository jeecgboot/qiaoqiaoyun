import{e as u,V as _,a6 as f,a7 as x,F as v,am as h,af as w,ai as c,a5 as i,ak as y,k as D,q as O,A as k}from"./vue-vendor-24c7dc61.js";import{ap as m,l as C}from"./index-831af9dd.js";import{c as F}from"./index-d508f1f4.js";import{b7 as I}from"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const b={name:"TableImage",components:{DownloadOutlined:I},props:{text:{type:Array,default:()=>[]}},setup(s){const l=u(()=>!s.text||s.text.length==0?[]:s.text.map(e=>e.url));function p(e){e.stopPropagation(),e.preventDefault();let a=s.text;if(a&&a.length>0){let o=[];for(let n of a)n&&n.url&&o.push(m(n.url));F({imageList:o})}}function t(e){return e.indexOf("/")>0?e.substring(e.lastIndexOf("/")+1):e.indexOf("\\")>0?e.substring(e.lastIndexOf("\\")+1):e}function d(e,a){e.preventDefault(),e.stopPropagation();let o=m(a);o&&window.open(o,"_blank")}return{urlArray:l,viewOnlineCellImage:p,getFileAccessHttpUrl:m,getFilename:t,onDownload:d}}};const A={class:""},B={class:"image-area"},H=["src"],L={class:"text-area"},N=["title"],P={style:{width:"24px","margin-left":"5px"}},T=["src"];function U(s,l,p,t,d,e){const a=_("DownloadOutlined"),o=_("a-popover");return f(!0),x(v,null,h(t.urlArray,(n,g)=>(f(),w(o,{overlayClassName:"pop-image-container"},{title:c(()=>[]),content:c(()=>[i("div",A,[i("div",B,[i("img",{src:t.getFileAccessHttpUrl(n),alt:" "},null,8,H)]),i("div",L,[i("span",{style:{color:"rgb(51, 51, 51)",flex:"1"},class:"ellipsis",title:t.getFilename(n)},y(t.getFilename(n)),9,N),i("span",P,[D(a,{style:{cursor:"pointer"},title:"下载",onClick:r=>t.onDownload(r,n)},null,8,["onClick"])])])])]),default:c(()=>[O(i("img",{style:{cursor:"pointer","max-height":"24px",display:"inline"},src:t.getFileAccessHttpUrl(n),alt:" ",preview:"",onClick:l[0]||(l[0]=(...r)=>t.viewOnlineCellImage&&t.viewOnlineCellImage(...r))},null,8,T),[[k,g===0]])]),_:2},1024))),256)}const z=C(b,[["render",U]]);export{z as default};
