var Y=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var M=(n,t,o)=>t in n?Y(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,z=(n,t)=>{for(var o in t||(t={}))oe.call(t,o)&&M(n,o,t[o]);if(B)for(var o of B(t))ne.call(t,o)&&M(n,o,t[o]);return n},V=(n,t)=>Z(n,ee(t));var h=(n,t,o)=>new Promise((d,g)=>{var r=s=>{try{f(o.next(s))}catch(_){g(_)}},F=s=>{try{f(o.throw(s))}catch(_){g(_)}},f=s=>s.done?d(s.value):Promise.resolve(s.value).then(r,F);f((o=o.apply(n,t)).next())});import{d as H,f as l,r as te,o as ae,V as S,a6 as C,a7 as R,a5 as a,k as i,ak as k,u as y,q as b,A as x,W as U,ai as L,z as ie,E as se,F as ce,a3 as le,a4 as re,I as ue,n as de}from"./vue-vendor-24c7dc61.js";import ge from"./AppLoginHeader-c75d2fdd.js";import pe from"./AccountLoginForm-e0941934.js";import fe from"./AppForgetPassword-e37693de.js";import{bF as _e,a7 as me,o as ve,a as he,r as D,cg as ye,l as Le}from"./index-831af9dd.js";import{b6 as we}from"./antd-vue-vendor-0d72f01e.js";import Te from"./AppTenant-d4e148c1.js";import Ae from"./AppThirdForm-04b853de.js";import"./vxe-table-vendor-8813019a.js";import"./checkcode-5ec5fe8f.js";import"./index-f99b266a.js";const q=n=>(le("data-v-460277ca"),n=n(),re(),n),Ie={key:0,class:"login-box"},Se={class:"login-subject"},ke={class:"flex-row align-items-center margin-top10"},be={class:"login-title"},xe={class:"content-box"},Ce={key:0,class:"text-center"},Re={class:"login-other"},Fe={class:"login-other"},Pe={class:"login-language"},Ee=q(()=>a("span",null,"简体中文",-1)),Ne=q(()=>a("span",null,"English",-1)),Be=H({name:"myapps-applogin"}),Me=H(V(z({},Be),{setup(n){const{changeLocale:t,getLocale:o}=_e(),d=l(),g=me(),r=l("accountLogin"),F=we({scriptUrl:"//at.alicdn.com/t/font_2316098_umqusozousr.js"}),f=l(),s=l(),_=l(),{t:p}=ve(),c=l("login"),ze=l(),Ve=te({phone:"",smscode:""}),{notification:j,createErrorModal:Ue}=he(),w=l("zh_CN"),P=l(!1),T=l(!1);function De(){c.value="register",setTimeout(()=>{f.value.clearValidate()},300)}function $(){c.value="login",r.value="accountLogin"}function O(e){c.value="login",r.value="accountLogin",setTimeout(()=>{s.value.setAccountData(e)},300)}function W(e){r.value=e}function G(){c.value="forgetPwd"}function E(e){return h(this,null,function*(){var v,A;const u=ue(g.getLoginInfo),{tenantList:m}=u;if(!m||m.length===0)c.value="tenant";else{j.success({message:p("sys.login.loginSuccessTitle"),description:`${p("sys.login.loginSuccessDesc")}: ${e}`,duration:3});let I=(A=(v=D.currentRoute.value)==null?void 0:v.query)==null?void 0:A.redirect;if(I){window.open(I,"_self");return}yield D.replace(g.getUserInfo&&g.getUserInfo.homePath||ye.BASE_HOME),N()}})}function N(){window.location.reload()}function He(e){d.value.onThirdLogin(e)}function J(e){return h(this,null,function*(){yield t(e)})}function K({key:e}){w.value=e,y(o)!==e&&J(e)}function Q(e){de(()=>{e.loginType!="thirdLogin"&&(P.value=!0,d.value.hideBindThirdAccount()),e.loginType==="login"&&(r.value="phoneLogin"),c.value=e.loginType})}function qe(e){return h(this,null,function*(){T.value=!0,yield d.value.bindThirdAccount(e),T.value=!1})}function je(e){return h(this,null,function*(){T.value=!0,yield d.value.createAccountBindThird(e),T.value=!1})}return ae(()=>{let e=document.getElementById("app");e.style.height="auto";let u=document.getElementsByTagName("body")[0].style;u.backgroundColor="#f2f5f7"}),(e,u)=>{const m=S("Icon"),v=S("a-menu-item"),A=S("a-menu"),I=S("a-dropdown");return C(),R(ce,null,[c.value==="login"?(C(),R("div",Ie,[a("div",Se,[i(ge),a("div",ke,[a("div",be,k(r.value==="accountLogin"?y(p)("sys.login.signInFormTitle"):y(p)("sys.login.mobileSignInFormTitle")),1)]),a("div",xe,[b(a("div",null,[i(pe,{ref_key:"accountLoginRef",ref:s,onLogin:W,onForgetPwd:G,onLoginSuccess:E},null,512)],512),[[x,r.value==="accountLogin"]]),P.value?U("",!0):(C(),R("div",Ce,[a("div",Re,k(y(p)("sys.login.otherSignIn")),1),a("div",Fe,k(y(p)("sys.login.versionNumber"))+": 2.0 ",1)]))])])])):U("",!0),b(a("div",null,[i(fe,{ref_key:"appForgetPwdRef",ref:_,onReturnLogin:$,onLoginAccount:O},null,512)],512),[[x,c.value==="forgetPwd"]]),b(a("div",null,[i(Te,{onSuccess:N})],512),[[x,c.value==="tenant"]]),b(a("div",Pe,[i(m,{icon:"ant-design:global-outlined",style:{"font-size":"13px",color:"#9e9e9e"}}),i(I,{trigger:["click"],placement:"top"},{overlay:L(()=>[i(A,{value:w.value,"onUpdate:value":u[1]||(u[1]=X=>w.value=X),onClick:K},{default:L(()=>[i(v,{key:"zh_CN"},{default:L(()=>[Ee]),_:1}),i(v,{key:"en"},{default:L(()=>[Ne]),_:1})]),_:1},8,["value"])]),default:L(()=>[a("span",{class:"language-drop pointer",onClick:u[0]||(u[0]=ie(()=>{},["prevent"]))},[se(k(w.value==="zh_CN"?"CN":"EN")+" ",1),i(m,{icon:"ant-design:down-outlined",style:{color:"#9e9e9e","font-size":"13px"}})])]),_:1})],512),[[x,c.value!=="thirdLogin"]]),i(Ae,{ref_key:"thirdModalRef",ref:d,onType:Q,onLoginSuccess:E},null,512)],64)}}}));const no=Le(Me,[["__scopeId","data-v-460277ca"]]);export{no as default};
