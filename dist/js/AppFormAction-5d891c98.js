var w=(a,r,p)=>new Promise((m,f)=>{var y=s=>{try{t(p.next(s))}catch(l){f(l)}},n=s=>{try{t(p.throw(s))}catch(l){f(l)}},t=s=>s.done?m(s.value):Promise.resolve(s.value).then(y,n);t((p=p.apply(a,r)).next())});import{bO as v,a_ as D,bZ as O,b_ as S,bH as V,a$ as T,b$ as $,c0 as N,c1 as L,I as H}from"./antd-vue-vendor-0d72f01e.js";import{d as P,f as C,as as R,h as U,a3 as q,a4 as M,a5 as u,V as _,a6 as c,af as h,ai as o,a7 as g,F as I,k as e,W as A}from"./vue-vendor-24c7dc61.js";import{R as W,cl as z,cr as Z,l as j}from"./index-831af9dd.js";import{u as G}from"./lowAppAuth-3d637b7d.js";import{u as J}from"./useUndeveloped-598c4bd7.js";import{u as K}from"./useFuncSwitch-b7681246.js";import"./vxe-table-vendor-8813019a.js";import"./lowAppUtils-56892d30.js";const Q=P({name:"AppFormAction",components:{Icon:W,DownOutlined:v,EditOutlined:D,ApiOutlined:O,SendOutlined:S,AppstoreOutlined:V,DeleteOutlined:T,MobileOutlined:$,DownSquareOutlined:N,BarChartOutlined:L,InfoCircleFilled:H},props:{menuType:{type:String,default:""}},emits:["action"],setup(a,{emit:r}){const{tipUndeveloped:p}=J(),m=C(!1),{getHasFunc:f}=K(),y=f("IMPORT_DATA"),n=G();function t(){return n.getLowAppAdminAuth()}const s=C(!1),l=R();U(()=>w(this,null,function*(){let d=l.params.code;z(l.name)&&(d=yield Z(d),yield new Promise(B=>setTimeout(B,300)));let E=n.getOperationAuth(d);E&&(s.value=E.import_table)}));function F(){return n.getLowAppAdminAuth()===!0?!0:s.value}function k(d){r("action",d.key),m.value=!1,(d.key=="showSet"||d.key.startsWith("table_"))&&p()}function b(){return a.menuType=="drag"?!!t():!0}return{actionVisible:m,handleActionClick:k,hasAdminAuth:t,hasImportData:y,hasImportAuth:F,showIcon:b}}});const i=a=>(q("data-v-37ed8445"),a=a(),M(),a),X={key:0,class:"app-action-select-icon app-form-action cursor-pointer"},Y=i(()=>u("span",{class:"label"},"编辑页面",-1)),x=i(()=>u("span",{class:"label"},"修改名称和图标",-1)),ee=i(()=>u("span",{class:"label"},"编辑页面说明",-1)),te=i(()=>u("span",{class:"label"},"显示设置?",-1)),ne=i(()=>u("span",{class:"label"},"删除页面",-1)),oe=i(()=>u("span",{class:"label"},"编辑表单",-1)),ae=i(()=>u("span",{class:"label"},"设置工作表",-1)),se=i(()=>u("span",null,"打印模板",-1)),ue=i(()=>u("span",null,"重新生成打印模板",-1)),ie=i(()=>u("span",{class:"label"},"修改名称和图标",-1)),le=i(()=>u("span",{class:"label"},"编辑工作表说明",-1)),de=i(()=>u("span",{class:"label"},"设置记录名称",-1)),ce=i(()=>u("span",{class:"label"},"从Excel导入数据",-1)),pe=i(()=>u("span",{class:"label"},"回收站",-1)),re=i(()=>u("span",{class:"label"},"删除工作表",-1));function _e(a,r,p,m,f,y){const n=_("Icon"),t=_("a-menu-item"),s=_("a-menu-divider"),l=_("a-menu"),F=_("a-sub-menu"),k=_("a-dropdown");return c(),h(k,{open:a.actionVisible,"onUpdate:open":r[0]||(r[0]=b=>a.actionVisible=b),trigger:["click"],destroyPopupOnHide:"",overlayClassName:"app-item-actions-dropdown top-info-dropdown"},{overlay:o(()=>[a.menuType=="drag"?(c(),h(l,{key:0,onClick:a.handleActionClick},{default:o(()=>[a.hasAdminAuth()?(c(),g(I,{key:0},[e(t,{key:"drag-update"},{default:o(()=>[e(n,{icon:"ant-design:setting-outlined"}),Y]),_:1}),e(s),e(t,{key:"update2"},{default:o(()=>[e(n,{icon:"ant-design:edit-outlined"}),x]),_:1}),e(t,{key:"note"},{default:o(()=>[e(n,{icon:"ant-design:info-circle-outlined"}),ee]),_:1}),e(t,{key:"showSet"},{default:o(()=>[e(n,{icon:"ant-design:desktop-outlined"}),te]),_:1}),e(s),e(t,{key:"delete",class:"low-app-red-delete"},{default:o(()=>[e(n,{icon:"ant-design:delete-filled"}),ne]),_:1})],64)):A("",!0)]),_:1},8,["onClick"])):(c(),h(l,{key:1,onClick:a.handleActionClick},{default:o(()=>[a.hasAdminAuth()?(c(),g(I,{key:0},[e(t,{key:"update"},{default:o(()=>[e(n,{icon:"ant-design:setting-outlined"}),oe]),_:1}),e(F,{key:"4",class:"has-sub-menu",popupClassName:"low-app-form-action-next-menu"},{title:o(()=>[e(n,{icon:"ant-design:table-outlined"}),ae]),default:o(()=>[e(t,{key:"print_table_temp"},{default:o(()=>[se]),_:1}),e(t,{key:"print_re_table_temp"},{default:o(()=>[ue]),_:1})]),_:1}),e(s),e(t,{key:"update2"},{default:o(()=>[e(n,{icon:"ant-design:edit-outlined"}),ie]),_:1}),e(t,{key:"note"},{default:o(()=>[e(n,{icon:"ant-design:info-circle-outlined"}),le]),_:1}),e(t,{key:"buttonLabel"},{default:o(()=>[e(n,{icon:"ant-design:border-outer-outlined"}),de]),_:1}),e(s)],64)):A("",!0),a.hasImportData&&a.hasImportAuth()?(c(),h(t,{key:"import"},{default:o(()=>[e(n,{icon:"ant-design:import-outlined"}),ce]),_:1})):A("",!0),e(t,{key:"recycle"},{default:o(()=>[e(n,{icon:"ant-design:delete-outlined"}),pe]),_:1}),a.hasAdminAuth()?(c(),h(t,{key:"delete",class:"low-app-red-delete"},{default:o(()=>[e(n,{icon:"ant-design:delete-filled"}),re]),_:1})):A("",!0)]),_:1},8,["onClick"]))]),default:o(()=>[a.showIcon()?(c(),g("div",X,[e(n,{icon:"ant-design:ellipsis-outlined",size:24})])):A("",!0)]),_:1},8,["open"])}const we=j(Q,[["render",_e],["__scopeId","data-v-37ed8445"]]);export{we as default};
