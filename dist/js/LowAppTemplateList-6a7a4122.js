var j=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var k=(e,t,o)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,v=(e,t)=>{for(var o in t||(t={}))P.call(t,o)&&k(e,o,t[o]);if(T)for(var o of T(t))X.call(t,o)&&k(e,o,t[o]);return e},x=(e,t)=>K(e,O(t));var h=(e,t,o)=>new Promise((_,u)=>{var f=r=>{try{m(o.next(r))}catch(s){u(s)}},w=r=>{try{m(o.throw(r))}catch(s){u(s)}},m=r=>r.done?_(r.value):Promise.resolve(r.value).then(f,w);m((o=o.apply(e,t)).next())});import{d as A,f as z,V as l,a6 as y,a7 as H,k as n,ai as a,u as p,E as d,af as W,W as q}from"./vue-vendor-24c7dc61.js";import"./index-621e597c.js";import"./index-1c3affea.js";import{u as G}from"./useListPage-62a041ef.js";import{L as J,c as Q,s as Y}from"./LowAppTemplateModal-3126b691.js";import Z from"./TemplateApproveModal-48b9e621.js";import{l as $,g as oo,a as to,d as eo,b as no}from"./LowAppTemplate.api-69278405.js";import{e as M}from"./index-831af9dd.js";import{T as ro}from"./componentMap-c857637c.js";import io from"./BasicTable-d435f501.js";import"./antd-vue-vendor-0d72f01e.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./useMethods-f689b480.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./useFormItem-86503382.js";import"./vxe-table-vendor-8813019a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./JPopup-2a779923.js";import"./EasyCronInput-b2123242.js";import"./JCheckbox-0b89d32a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./JImageUpload-d644253a.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";const ao=A({name:"appTemplate-lowAppTemplate"}),lt=A(x(v({},ao),{setup(e){const t=z([]),[o,{openModal:_}]=M(),[u,{openModal:f}]=M(),{prefixCls:w,tableContext:m,onExportXls:r,onImportXls:s}=G({tableProps:{title:"low_app_template",api:$,columns:Q,canResize:!1,formConfig:{schemas:Y,autoSubmitOnEnter:!0,showAdvancedButton:!0,fieldMapToNumber:[],fieldMapToTime:[]},actionColumn:{width:120,fixed:"right"}},exportConfig:{name:"low_app_template",url:oo},importConfig:{url:to,success:c}}),[S,{reload:R},{rowSelection:E,selectedRowKeys:g}]=m;function po(i){_(!0,{record:i,isUpdate:!0,showFooter:!0})}function I(i){f(!0,{record:i,isUpdate:!0,showFooter:!0})}function lo(i){return h(this,null,function*(){yield eo({id:i.id},c)})}function B(){return h(this,null,function*(){yield no({ids:g.value},c)})}function c(){(g.value=[])&&R()}function N(i){return[{label:"审核",onClick:I.bind(null,i),ifShow:i.status===1}]}return(i,mo)=>{const b=l("a-button"),U=l("j-upload-button"),C=l("Icon"),V=l("a-menu-item"),D=l("a-menu"),F=l("a-dropdown");return y(),H("div",null,[n(p(io),{onRegister:p(S),rowSelection:p(E)},{tableTitle:a(()=>[n(b,{type:"primary",preIcon:"ant-design:export-outlined",onClick:p(r)},{default:a(()=>[d(" 导出")]),_:1},8,["onClick"]),n(U,{type:"primary",preIcon:"ant-design:import-outlined",onClick:p(s)},{default:a(()=>[d("导入")]),_:1},8,["onClick"]),p(g).length>0?(y(),W(F,{key:0},{overlay:a(()=>[n(D,null,{default:a(()=>[n(V,{key:"1",onClick:B},{default:a(()=>[n(C,{icon:"ant-design:delete-outlined"}),d(" 删除 ")]),_:1})]),_:1})]),default:a(()=>[n(b,null,{default:a(()=>[d("批量操作 "),n(C,{icon:"mdi:chevron-down"})]),_:1})]),_:1})):q("",!0)]),action:a(({record:L})=>[n(p(ro),{actions:N(L)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"]),n(J,{onRegister:p(o),onSuccess:c},null,8,["onRegister"]),n(Z,{onRegister:p(u),onSuccess:c},null,8,["onRegister"])])}}}));export{lt as default};
