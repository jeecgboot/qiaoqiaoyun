import{B as v,a as _}from"./index-44229d9b.js";import{f as i,a5 as a,V as u,a6 as w,af as x,ag as C,ai as q,k as y}from"./vue-vendor-24c7dc61.js";import{u as T}from"./useFieldSelect-1dde1da7.js";import{l as F}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./type.definition-4eb605ee.js";import"./vxe-table-vendor-8813019a.js";const k={name:"KsShaixuanDrawer",props:{columnList:{type:Array,default:()=>[]}},components:{BasicDrawer:v},emits:["register","ok"],setup(s,{emit:t}){const g=i(""),e=i([]),{selectFieldList:p,myFilter:c,getColumnInfo:n}=T(s),r=i(""),o=i("like");function m(l){let d=n(l);t("ok",{field:d.model,type:d.type,name:d.name,queryType:o.value})}function h(){t("ok",{queryType:o.value})}const[f,{closeDrawer:z}]=_(l=>{r.value=l.record.field,o.value=l.record.queryType||"like"});return{selectFieldList:p,queryTypeList:[{value:"like",label:"模糊搜索"},{value:"eq",label:"精准搜索"},{value:"elemMatch",label:"多词匹配"},{value:"range",label:"范围查询"}],myFilter:c,register:f,handleChangeQueryType:h,handleChangeField:m,queryField:r,queryType:o}}},b={style:{padding:"0px 24px"}},B=a("div",{style:{"padding-top":"24px","font-weight":"bold","font-size":"13px","padding-left":"2px"}}," 筛选字段: ",-1),D={style:{cursor:"pointer","margin-top":"8px"}},L=a("div",{style:{"padding-top":"24px","font-weight":"bold","font-size":"13px","padding-left":"2px"}}," 筛选方式: ",-1),S={style:{cursor:"pointer","margin-top":"8px"}};function V(s,t,g,e,p,c){const n=u("a-select"),r=u("BasicDrawer");return w(),x(r,C({getContainer:"body"},s.$attrs,{title:"筛选设置",drawerClass:"view-config-drawer",onRegister:e.register,width:"400",headerStyle:{padding:"10px 20px"}}),{default:q(()=>[a("div",b,[B,a("div",D,[y(n,{value:e.queryField,"onUpdate:value":t[0]||(t[0]=o=>e.queryField=o),"show-search":"",placeholder:"请选择字段",style:{width:"100%"},options:e.selectFieldList,"filter-option":e.myFilter,onChange:e.handleChangeField},null,8,["value","options","filter-option","onChange"])]),L,a("div",S,[y(n,{value:e.queryType,"onUpdate:value":t[1]||(t[1]=o=>e.queryType=o),style:{width:"100%"},onChange:e.handleChangeQueryType,options:e.queryTypeList},null,8,["value","onChange","options"])])])]),_:1},16,["onRegister"])}const P=F(k,[["render",V]]);export{P as default};
