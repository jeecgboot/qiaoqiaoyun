var u=(l,m,t)=>new Promise((e,a)=>{var p=o=>{try{r(t.next(o))}catch(i){a(i)}},s=o=>{try{r(t.throw(o))}catch(i){a(i)}},r=o=>o.done?e(o.value):Promise.resolve(o.value).then(p,s);r((t=t.apply(l,m)).next())});import{f as _,V as f,a6 as h,af as M,ai as B,k as I}from"./vue-vendor-24c7dc61.js";import{B as F}from"./index-1c3affea.js";import"./index-52c8c841.js";import"./page.api-9d0cf9bc.js";import{l as k,j as w,a as b,k as x}from"./index-831af9dd.js";import{B as y,u as v}from"./useForm-14b2bc77.js";import"./BasicModal-58413bab.js";import"./antd-vue-vendor-0d72f01e.js";import"./useWindowSizeFn-8f085f6f.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./vxe-table-vendor-8813019a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./helper-22dafba0.js";const R={name:"DragAddModal",components:{BasicModal:F,BasicForm:y},emits:["success","register"],setup(l,{emit:m}){const t=[{label:"页面名称",field:"name",component:"Input",required:!0,componentProps:{placeholder:"例如：门户首页、仪表盘",autocomplete:"off",id:"dragNameInput"}},{label:"分类",field:"type",component:"Input",show:!1,defaultValue:"1"}],[e,{resetFields:a,validate:p}]=v({labelWidth:80,schemas:t,showActionButtonGroup:!1}),s=_(""),[r,{closeModal:o}]=w(n=>u(this,null,function*(){var c;yield a(),s.value=n.menuGroupId,(c=document.getElementById("dragNameInput"))==null||c.focus()})),{createMessage:i}=b();function g(){return u(this,null,function*(){const n=yield p(),c="/drag/page/add";n.appMenuGroupId=s.value;const d=yield x.post({url:c,params:n},{isTransformResponse:!1});if(!d.success){i.error(d.message);return}o(),m("success",d)})}return{registerForm:e,registerModal:r,handleSubmit:g}}};function G(l,m,t,e,a,p){const s=f("BasicForm"),r=f("BasicModal");return h(),M(r,{canFullscreen:!1,minHeight:80,onRegister:e.registerModal,okText:"创建",title:"新建自定义页面",onOk:e.handleSubmit,width:480,destroyOnClose:""},{default:B(()=>[I(s,{onRegister:e.registerForm,style:{"padding-top":"20px"}},null,8,["onRegister"])]),_:1},8,["onRegister","onOk"])}const wo=k(R,[["render",G]]);export{wo as default};
