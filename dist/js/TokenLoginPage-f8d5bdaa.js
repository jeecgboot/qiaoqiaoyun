import{as as f,a2 as g,a3 as A,a4 as B,ay as _,a6 as m,a7 as v}from"./vue-vendor-24c7dc61.js";import{a7 as k,a as h,o as y,l as S}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const I={name:"TokenLogin",setup(){const c=f();let r=g();const{createMessage:o,notification:a}=h(),{t}=y(),s=c.query;s||o.warning("参数无效");const d=s.loginToken;d||o.warning("token无效"),k().ThirdLogin({token:d,thirdType:"email",goHome:!1}).then(e=>{e&&e.userInfo?l(e):u(e)});function u(e){a.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function l(e){let p=s.info;if(p){let i=JSON.parse(p),n="";i.isLowApp===1?n="/myapps/personalOffice/myTodo":n="/task/handle/"+i.taskId,r.replace({path:n,query:i}),a.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else a.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},T="/resource/img/logo.png";const E={class:"app-loading"},L=_('<div class="app-loading-wrap" data-v-ca7ef8e0><img src="'+T+'" class="app-loading-logo" alt="Logo" data-v-ca7ef8e0><div class="app-loading-dots" data-v-ca7ef8e0><span class="dot dot-spin" data-v-ca7ef8e0><i data-v-ca7ef8e0></i><i data-v-ca7ef8e0></i><i data-v-ca7ef8e0></i><i data-v-ca7ef8e0></i></span></div><div class="app-loading-title" data-v-ca7ef8e0>JeecgBoot 企业级低代码平台</div></div>',1),$=[L];function w(c,r,o,a,t,s){return m(),v("div",E,$)}const O=S(I,[["render",w],["__scopeId","data-v-ca7ef8e0"]]);export{O as default};
