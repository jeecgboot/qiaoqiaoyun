var g=(e,n,o)=>new Promise((d,r)=>{var u=t=>{try{s(o.next(t))}catch(i){r(i)}},a=t=>{try{s(o.throw(t))}catch(i){r(i)}},s=t=>t.done?d(t.value):Promise.resolve(t.value).then(u,a);s((o=o.apply(e,n)).next())});import{d as k,f as h,e as E,I as y,a3 as I,a4 as J,a5 as w,V as _,a6 as M,af as O,ai as l,k as c,E as v}from"./vue-vendor-24c7dc61.js";import{J as D}from"./JDictSelectTag-54dc3bdb.js";import{J as P}from"./JSelectDept-a90caee3.js";import{B as T}from"./index-1c3affea.js";import"./index-52c8c841.js";import{j as U,k as x,l as N}from"./index-831af9dd.js";import{B as R,u as V}from"./useForm-14b2bc77.js";import"./antd-vue-vendor-0d72f01e.js";import"./useFormItem-86503382.js";import"./props-8a7ac45b.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./JSelectBiz-55a9591f.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./componentMap-c857637c.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./JImageUpload-d644253a.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./vxe-table-vendor-8813019a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./helper-22dafba0.js";const A=k({name:"OrganUserBathEdit",components:{BasicModal:T,BasicForm:R,JDictSelectTag:D,JSelectDept:P},emits:["reload","register"],setup(e,{emit:n}){const o=h(),d=h([]),r=h("selecteddeparts"),u=E(()=>{let p=r.value;return[{field:"id",label:"id",component:"Input",show:!1},{field:"selecteddeparts",label:"设为",component:"JSelectDept",componentProps:{checkStrictly:!0},show:m=>p=="selecteddeparts"},{field:"post",label:"设为",component:"JSelectPosition",componentProps:{getPopupContainer:B},show:m=>p=="post"},{field:"workAddress",label:"设为",component:"JDictSelectTag",componentProps:{getPopupContainer:B},show:m=>p=="workAddress"}]}),[a,{resetFields:s,getFieldsValue:t}]=V({schemas:u,showActionButtonGroup:!1,labelCol:{span:24},wrapperCol:{span:24}}),[i,{setModalProps:f,closeModal:b}]=U(p=>g(this,null,function*(){d.value=y(p.userIds),o.value="编辑"+d.value.length+"用户信息",yield s(),f({confirmLoading:!1})}));function S(){return g(this,null,function*(){let p=t(),m=r.value,C={userIds:JSON.stringify(y(d.value)),[m]:p[m]};const F="/sys/user/batchEditUsers";yield x.put({url:F,params:C}),n("reload"),b()})}function B(){return document.querySelector(".oran-user-bath-edit-modal .ant-modal-content")}return{registerModal:i,registerForm:a,editType:r,title:o,handleSubmit:S}}});const $=e=>(I("data-v-bf5ccc64"),e=e(),J(),e),H={style:{"margin-bottom":"5px"}},j=$(()=>w("div",{style:{"font-weight":"700",color:"#757575","font-size":"13px",margin:"5px 0 10px 0"}}," 选择编辑字段 ",-1));function q(e,n,o,d,r,u){const a=_("a-radio"),s=_("a-radio-group"),t=_("BasicForm"),i=_("BasicModal");return M(),O(i,{wrapClassName:"oran-user-bath-edit-modal",onRegister:e.registerModal,destroyOnClose:"",title:e.title,width:500,onOk:e.handleSubmit},{default:l(()=>[c(t,{onRegister:e.registerForm},{formHeader:l(()=>[w("div",H,[j,c(s,{value:e.editType,"onUpdate:value":n[0]||(n[0]=f=>e.editType=f)},{default:l(()=>[c(a,{value:"selecteddeparts"},{default:l(()=>[v("部门")]),_:1}),c(a,{value:"post"},{default:l(()=>[v("职位")]),_:1}),c(a,{value:"workAddress"},{default:l(()=>[v("工作地点")]),_:1})]),_:1},8,["value"])])]),_:1},8,["onRegister"])]),_:1},8,["onRegister","title","onOk"])}const xe=N(A,[["render",q],["__scopeId","data-v-bf5ccc64"]]);export{xe as default};
