import{d as D,a5 as r,V as a,a6 as t,a7 as c,F as w,am as v,af as i,ai as n,k as o,ak as g,E as d,W as p,q as A,ag as E,A as V}from"./vue-vendor-24c7dc61.js";import"./index-bff0b654.js";import{cI as b,l as B}from"./index-831af9dd.js";import{c as M,u as N,e as U}from"./useFileCell-8b138f6d.js";import{U as J}from"./JUpload-76e119c7.js";import"./index-1c3affea.js";import"./BasicModal-58413bab.js";import"./antd-vue-vendor-0d72f01e.js";import"./useWindowSizeFn-8f085f6f.js";import"./vxe-table-vendor-8813019a.js";import"./index-d508f1f4.js";const $=D({name:"JVxeFileCell",components:M,props:b(),setup(e){return N(e,J.file)},enhanced:U}),I=r("span",{style:{"margin-left":"5px"}},"上传中…",-1),L={style:{"margin-left":"5px"}},P={style:{"margin-left":"5px"}};function R(e,O,T,S,q,H){const _=a("LoadingOutlined"),u=a("a-tooltip"),l=a("Icon"),m=a("a-menu-item"),f=a("a-menu"),C=a("Dropdown"),h=a("a-button"),k=a("a-upload"),F=a("JUploadModal");return t(),c("div",null,[e.hasFile?(t(!0),c(w,{key:0},v([e.innerFile||{}],(s,y)=>(t(),c("div",{key:y,style:{position:"relative"}},[s.status==="uploading"?(t(),i(u,{key:0,title:`上传中(${Math.floor(s.percent)}%)`},{default:n(()=>[o(_),I]),_:2},1032,["title"])):s.status==="done"?(t(),i(u,{key:1,title:s.name},{default:n(()=>[o(l,{icon:"ant-design:paper-clip"}),r("span",L,g(e.ellipsisFileName),1)]),_:2},1032,["title"])):(t(),i(u,{key:2,title:s.message||"上传失败"},{default:n(()=>[o(l,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),r("span",P,g(e.ellipsisFileName),1)]),_:2},1032,["title"])),o(C,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"},disabled:e.cellProps.disabled},{overlay:n(()=>[o(f,null,{default:n(()=>[e.originColumn.allowDownload!==!1?(t(),i(m,{key:0,onClick:e.handleClickDownloadFile},{default:n(()=>[r("span",null,[o(l,{icon:"ant-design:download"}),d(" 下载")])]),_:1},8,["onClick"])):p("",!0),e.originColumn.allowRemove!==!1?(t(),i(m,{key:1,onClick:e.handleClickDeleteFile},{default:n(()=>[r("span",null,[o(l,{icon:"ant-design:delete"}),d(" 删除")])]),_:1},8,["onClick"])):p("",!0),o(m,{onClick:e.handleMoreOperation},{default:n(()=>[r("span",null,[o(l,{icon:"ant-design:bars"}),d(" 更多")])]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[o(u,{title:"操作"},{default:n(()=>[s.status!=="uploading"?(t(),i(l,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):p("",!0)]),_:2},1024)]),_:2},1032,["disabled"])]))),128)):p("",!0),A(o(k,E({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:n(()=>[o(h,{preIcon:"ant-design:upload"},{default:n(()=>[d(g(e.originColumn.btnText||"点击上传"),1)]),_:1})]),_:1},16,["action","headers","onChange"]),[[V,!e.hasFile]]),o(F,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}const oe=B($,[["render",R]]);export{oe as default};
