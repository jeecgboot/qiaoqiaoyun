var f=(a,d,t)=>new Promise((s,r)=>{var p=e=>{try{n(t.next(e))}catch(o){r(o)}},i=e=>{try{n(t.throw(e))}catch(o){r(o)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(p,i);n((t=t.apply(a,d)).next())});import{n as m}from"./antd-vue-vendor-0d72f01e.js";import{d as _,f as c,a5 as l,V as g,a6 as h,af as x,ai as u,k as v,E as w,ae as y}from"./vue-vendor-24c7dc61.js";import{B as M}from"./index-1c3affea.js";import{d as B,j as E,l as b}from"./index-831af9dd.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./vxe-table-vendor-8813019a.js";const k=_({name:"ErrorInfoModal",components:{BasicModal:M,SearchOutlined:m},setup(a){const d=B(),t=c(""),s=c(""),[r,{closeModal:p}]=E(e=>f(this,null,function*(){let o=e.errorString;o?(o=o.replace(new RegExp("\\[","g"),'<span style="font-weight: bold;margin: 0 2px;">').replace(new RegExp("\\]","g"),"</span>"),o=o.replace(new RegExp("\r","g"),'<div style="margin: 3px 0"></div>'),s.value=o):s.value="",t.value=e.path}));function i(){location.href=d.uploadUrl+t.value}const n=c(0);return n.value=window.innerHeight-300,{closeModal:p,path:t,errorString:s,registerModal:r,downLoadFile:i,maxHeight:n}}}),C={style:{display:"flex","align-items":"center"}},F=l("span",null," 错误报告 ",-1),S={style:{"margin-left":"15px"}},H={style:{width:"100%",position:"relative"}},R=["innerHTML"];function A(a,d,t,s,r,p){const i=g("a-button"),n=g("BasicModal");return h(),x(n,{footer:null,onRegister:a.registerModal,width:640,canFullscreen:!1,destroyOnClose:"",closable:""},{title:u(()=>[l("div",C,[F,l("span",S,[v(i,{onClick:a.downLoadFile,type:"link"},{default:u(()=>[w("下载错误报告")]),_:1},8,["onClick"])])])]),default:u(()=>[l("div",H,[l("div",{innerHTML:a.errorString,style:y([{width:"100%",border:"1px solid #eee",padding:"10px"},{height:a.maxHeight+"px"}])},null,12,R)])]),_:1},8,["onRegister"])}const z=b(k,[["render",A]]);export{z as default};
