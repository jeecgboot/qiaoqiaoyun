var ee=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var I=(n,a,d)=>a in n?ee(n,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):n[a]=d,L=(n,a)=>{for(var d in a||(a={}))te.call(a,d)&&I(n,d,a[d]);if(N)for(var d of N(a))ae.call(a,d)&&I(n,d,a[d]);return n},D=(n,a)=>oe(n,se(a));import{d as A,f as r,V as g,a6 as c,a7 as i,a5 as e,F as w,a8 as v,k as u,ai as _,ak as s,am as le,E as f,W as U,a3 as ne,a4 as re,u as ce}from"./vue-vendor-24c7dc61.js";import{a as ie}from"./organization.api-98a6e46c.js";import{ap as de,l as _e}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const y=n=>(ne("data-v-2988c6c6"),n=n(),re(),n),ue={class:"main-container"},pe={class:"role-auth-container"},ve={class:"admin-header"},he={class:"admin-menu-tab"},me=y(()=>e("a",null,"管理配置角色",-1)),ge=[me],fe=y(()=>e("a",null,"日志",-1)),ye=[fe],ke={class:"admin-content"},Ue={key:0,class:"role-table"},Ce={class:"role-table-content"},xe=y(()=>e("div",{class:"role-list-title"},[e("div",{class:"role-name"},"角色名称"),e("div",{class:"role-count"},"人数"),e("div",{class:"role-auth"},"描述"),e("div",{class:"role-operation"},"操作")],-1)),be={class:"role-name ellipsis role-line-height"},Se={class:"role-count role-line-height"},we={class:"role-auth ellipsis role-line-height"},Re={key:1,class:"role-auth-log-table"},ze={class:"role-log-list-content"},Te={class:"log-item font-size13 font-color1e"},je={key:0},$e={class:"color-gray"},Fe=["onClick"],Ne={class:"margin-left24 color-gray9e"},Ie={key:1},Le={class:"color-gray"},De=["onClick"],Ae=["onClick"],Ve={class:"margin-left24 color-gray9e"},Oe={key:2},qe={class:"color-gray"},Be=["onClick"],He={class:"margin-left24 color-gray9e"},Ee={key:3},Ke={class:"color-gray"},Je=["onClick"],Pe=["onClick"],Qe={class:"margin-left24 color-gray9e"},We={class:"role-auth-header"},Ge={class:"detail-title"},Me={style:{"font-size":"17px","font-weight":"700"}},Xe={class:"role-container"},Ye={style:{width:"100%"}},Ze={style:{"padding-top":"20px","padding-bottom":"20px",float:"left"}},eo={style:{float:"right",width:"192px","padding-top":"20px"}},oo={class:"tab-list"},so={key:0,class:"role-detail-table"},to=y(()=>e("div",{class:"role-list-title"},[e("div",{class:"role-user-avatar"}),e("div",{class:"role-user-name"},[e("span",{class:"role-user-color"}," 姓名 ")]),e("div",{class:"role-user-post"},[e("span",{class:"role-user-color"}," 职位 ")]),e("div",{class:"role-user-depart"},[e("span",{class:"role-user-color"}," 部门 ")]),e("div",{class:"role-user-operation"},[e("span",{class:"role-user-color"}," 操作 ")])],-1)),ao={class:"role-list-detail"},lo={class:"pointer role-user-avatar",style:{"margin-top":"10px"}},no={class:"card-content-box"},ro={class:"card-content"},co={class:"card-header"},io=["src"],_o={style:{"word-wrap":"break-word",color:"#aaa","margin-left":"8px","word-break":"break-all"}},uo={class:"user-pop-name ellipsis"},po={class:"card-content-desc"},vo={class:"ellipsis content-item"},ho={class:"card-content-desc"},mo={class:"ellipsis content-item"},go=["src"],fo={class:"role-user-name"},yo={class:"role-user-post"},ko={class:"role-user-depart"},Uo=["onClick"],Co={key:1,class:"role-detail-table"},xo=y(()=>e("div",{style:{display:"flex",width:"100%",height:"48px","line-height":"48px"}},[e("div",{class:"role-detail-name"},[e("span",{class:"role-user-color"}," 权限 ")]),e("div",{class:"role-detail-name"},[e("span",{class:"role-user-color"}," 描述 ")])],-1)),bo={class:"role-detail-des"},So={class:"role-detail-name-des"},wo={style:{"padding-left":"25px","font-size":"18px","font-weight":"700"}},Ro={style:{"font-size":"13px",color:"#9e9e9e","text-align":"right"},class:"role-detail-description"},zo=A({name:"organ-admin-form"}),To=A(D(L({},zo),{setup(n){const a=r("role"),d=r(!1),C=r([]),V=r([{avatar:"e701edd37e_1669368260574.jpg",id:"1",realname:"管理员",post:"总经理",departName:"研发部",phone:"17161062233",email:"1298@qq.com"}]),O=r(!1),q=r(!1),B=r([{roleName:"应用管理",description:"拥有应用下的所有权限"}]),m=r(!0),x=r(!1),R=r({}),z=r(""),p=r({total:0,current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:(t,l)=>l[0]+"-"+l[1]+" 共"+t+"条",showQuickJumper:!0,showSizeChanger:!0,onChange:E,showSizeChange:K}),H=r([{type:"addRole",content:"创建了角色权限 组织应用管理员 ",createTime:"2022-10-20 18:56:30",formUser:"@管理员",formUsername:"admin"},{type:"addRoleUser",content:"添加到角色: 组织应用管理员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:29"},{type:"changeRole",content:"修改了 组织账户管理员 角色权限：开启了 组织账户管理员 广播员",createTime:"2022-10-20 18:56:29",formUser:"@管理员",formUsername:"admin"},{type:"removeRoleUser",content:"移除了 组织账户管理员 成员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:30"},{type:"removeRoleUser",content:"移除了 组织账户管理员 成员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:30"},{type:"removeRoleUser",content:"移除了 组织账户管理员 成员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:30"},{type:"removeRoleUser",content:"移除了 组织账户管理员 成员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:30"},{type:"removeRoleUser",content:"移除了 组织账户管理员 成员 ",formUser:"@管理员",formUsername:"admin",toUser:"@jeecg",toUsername:"jeecg",createTime:"2022-10-20 18:56:30"}]),k=r("userList");function T(t){a.value=t}function E(t,l){p.value.current=t,p.value.pageSize=l,j()}function K(t,l){p.value.pageSize=l}j();function j(){ie({pageSize:p.value.pageSize,pageNo:p.value.current}).then(t=>{t.success?(C.value=t.result.records,p.value.total=t.result.total):(C.value=[],p.value.total=0)})}function J(t){R.value=t,x.value=!0}function jo(t){}function P(){ce(m)&&void 0}function Q(t){}function W(){}function $(t){k.value=t}function F(t){return de(t)}function $o(t){}function G(){x.value=!1}return(t,l)=>{const b=g("a-list-item"),S=g("a-list"),M=g("Icon"),X=g("a-button"),Y=g("a-input-search"),Z=g("a-tooltip");return c(),i("div",ue,[e("div",pe,[x.value?(c(),i(w,{key:1},[e("div",We,[e("div",Ge,[u(M,{style:{"font-size":"24px","margin-right":"24px"},class:"pointer",icon:"ant-design:arrow-left-outlined",onClick:G}),e("span",Me,s(R.value.roleName),1)])]),e("div",Xe,[e("div",Ye,[e("div",Ze,[u(X,{class:"add-user",onClick:W,disabled:!m.value},{default:_(()=>[f("添加成员")]),_:1},8,["disabled"])]),e("div",eo,[u(Y,{value:z.value,"onUpdate:value":l[2]||(l[2]=o=>z.value=o),placeholder:"搜索",onSearch:Q},null,8,["value"])])]),e("div",oo,[e("span",{class:v(["tab-item",k.value==="userList"?"role-active":""]),onClick:l[3]||(l[3]=o=>$("userList"))},"成员列表",2),e("span",{class:v(["tab-item",k.value==="authDetail"?"role-active":""]),onClick:l[4]||(l[4]=o=>$("authDetail"))},"权限详情",2)]),k.value==="userList"?(c(),i("div",so,[u(S,{"data-source":V.value,loading:O.value,pagination:!1},{header:_(()=>[to]),renderItem:_(({item:o})=>[u(b,{class:v(["role-list-item",m.value?"color-gray":"font-color9e"])},{default:_(()=>[e("div",ao,[e("div",lo,[u(Z,{placement:"top",color:"#FFFFFF"},{title:_(()=>[e("div",no,[e("div",ro,[e("div",co,[e("img",{src:F(o.avatar),style:{height:"47px",width:"47px","border-radius":"50%"}},null,8,io),e("div",_o,[e("span",uo,s(o.realname),1),e("div",po,[e("span",vo,s(o.email),1)]),e("div",ho,[e("span",mo,s(o.phone),1)])])])])])]),default:_(()=>[e("img",{class:"role-list-avatar",src:F(o.avatar)},null,8,go)]),_:2},1024)]),e("span",fo,s(o.realname),1),e("span",yo,s(o.post),1),e("span",ko,s(o.departName),1),e("span",{class:"role-user-operation delete-color",onClick:h=>void 0},"移出",8,Uo)])]),_:2},1032,["class"])]),_:1},8,["data-source","loading"])])):(c(),i("div",Co,[u(S,{"data-source":B.value,loading:q.value,pagination:!1},{header:_(()=>[xo]),renderItem:_(({item:o})=>[u(b,{class:v(["role-list-item",m.value?"color-gray":"font-color9e"])},{default:_(()=>[e("div",bo,[e("div",So,[e("span",wo,s(o.roleName),1)]),e("span",Ro,s(o.description),1)])]),_:2},1032,["class"])]),_:1},8,["data-source","loading"])]))])],64)):(c(),i(w,{key:0},[e("div",ve,[e("ul",he,[e("li",{class:v(a.value=="role"?"active":""),onClick:l[0]||(l[0]=o=>T("role"))},ge,2),e("li",{class:v(a.value=="log"?"active":""),onClick:l[1]||(l[1]=o=>T("log"))},ye,2)])]),e("div",ke,[a.value==="role"?(c(),i("div",Ue,[e("div",Ce,[u(S,{class:"role-detail-table","data-source":C.value,loading:d.value,pagination:p.value},{header:_(()=>[xe]),renderItem:_(({item:o})=>[u(b,{class:v(["role-list-item",m.value?"color-gray":"font-color9e"]),onClick:h=>J(o)},{default:_(()=>[e("div",be,s(o.roleName),1),e("div",Se,s(o.count),1),e("div",we,s(o.description),1),e("div",{class:v(["role-operation role-line-height",m.value?"font-color1e":"role-reply"]),onClick:P},"添加成员 ",2)]),_:2},1032,["class","onClick"])]),_:1},8,["data-source","loading","pagination"])])])):a.value==="log"?(c(),i("div",Re,[e("div",ze,[(c(!0),i(w,null,le(H.value,o=>(c(),i("div",Te,[o.type==="addRole"?(c(),i("div",je,[e("span",$e,[e("a",{onClick:h=>void 0},s(o.formUser),9,Fe),f(" "+s(o.content)+" ",1),e("span",Ne,s(o.createTime),1)])])):o.type==="addRoleUser"?(c(),i("div",Ie,[e("span",Le,[e("a",{onClick:h=>void 0},s(o.formUser),9,De),f(" 将 "),e("a",{onClick:h=>void 0},s(o.toUser),9,Ae),f(" "+s(o.content)+" ",1),e("span",Ve,s(o.createTime),1)])])):U("",!0),o.type==="changeRole"?(c(),i("div",Oe,[e("span",qe,[e("a",{onClick:h=>void 0},s(o.formUser),9,Be),f(" "+s(o.content)+" ",1),e("span",He,s(o.createTime),1)])])):U("",!0),o.type==="removeRoleUser"?(c(),i("div",Ee,[e("span",Ke,[e("a",{onClick:h=>void 0},s(o.formUser),9,Je),f(" "+s(o.content)+" ",1),e("a",{onClick:h=>void 0},s(o.toUser),9,Pe),e("span",Qe,s(o.createTime),1)])])):U("",!0)]))),256))])])):U("",!0)])],64))])])}}}));const Vo=_e(To,[["__scopeId","data-v-2988c6c6"]]);export{Vo as default};
