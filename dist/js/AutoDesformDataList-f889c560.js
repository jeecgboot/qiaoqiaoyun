var Ro=Object.defineProperty;var Qe=Object.getOwnPropertySymbols;var Vo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable;var Ne=(e,s,a)=>s in e?Ro(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,Q=(e,s)=>{for(var a in s||(s={}))Vo.call(s,a)&&Ne(e,a,s[a]);if(Qe)for(var a of Qe(s))_o.call(s,a)&&Ne(e,a,s[a]);return e};var v=(e,s,a)=>new Promise((m,h)=>{var F=f=>{try{b(a.next(f))}catch(S){h(S)}},B=f=>{try{b(a.throw(f))}catch(S){h(S)}},b=f=>f.done?m(f.value):Promise.resolve(f.value).then(F,B);b((a=a.apply(e,s)).next())});import{ae as Mo,k as H,e as Z,cl as Oo,cr as To,l as Fo}from"./index-831af9dd.js";import{d as Bo,f as A,p as Eo,as as Io,a2 as Qo,c as No,e as Ko,w as Ke,r as qo,V as i,a6 as c,a7 as T,ae as Po,q as ye,k as r,ai as u,A as ve,a5 as D,af as C,E as X,z as qe,W as y,at as jo,ak as Y,F as Pe,am as zo}from"./vue-vendor-24c7dc61.js";import Ho from"./AutoDesformDataFullScreen-bd93fbb9.js";import{aC as $o,bJ as Go,cc as Jo,aZ as Wo,bI as Uo,aJ as Zo,cb as Xo,bR as Yo,a$ as xo,n as et,cn as ot,b1 as tt,co as nt}from"./antd-vue-vendor-0d72f01e.js";import it from"./ViewIcon-3c3086c3.js";import rt from"./BaseList-4c0e9032.js";import at from"./CardList-fd00f7bf.js";import st from"./CalendarList-39b1b176.js";import{u as Ae}from"./index-44229d9b.js";import lt from"./BaseConfigDrawer-7dad9ab6.js";import ut from"./CardConfigDrawer-99cbd041.js";import dt from"./CalendarConfigDrawer-185679c2.js";import"./index-1c3affea.js";import pt from"./CardFieldSelectModal-38ffd958.js";import mt from"./CalendarFieldSelectModal-b88d4fb4.js";import{u as ct}from"./useViewTabs-276e2e92.js";import ft from"./FilterSelect-c3891505.js";import{b as wt}from"./LinkRecordSelect-385d0eae.js";import{b as gt}from"./useCustomButton-fa741dda.js";import ht from"./ChartConfig-88252455.js";import Ct from"./ViewLeftDrawer-2f078510.js";import{u as yt}from"./useAuth-d62eecf0.js";import{u as vt}from"./useFuncSwitch-b7681246.js";import At from"./ExportModal-93e27c63.js";import Dt from"./ImportModal-eb75b82e.js";import Lt from"./ImportStepPage-362748a3.js";import bt from"./RecycleDataListModal-ac05fb68.js";import St from"./AutoDesformShareView-5e671f77.js";import"./vxe-table-vendor-8813019a.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./lowAppUtils-56892d30.js";import"./index-621e597c.js";import"./BasicTable-d435f501.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./useListPage-62a041ef.js";import"./auto.desform.api-839115ed.js";import"./AutoColumnSettings-6fbd3a04.js";import"./clipboard-695289c6.js";import"./renderUtils-7ad8f436.js";import"./LeftFilterList-b1ddac5e.js";import"./TableImage-14ca1f5d.js";import"./TableSummary-2b572a70.js";import"./SubTableTag-81763fd6.js";import"./TopButtonDrawer-2ab1cffa.js";import"./lowAppAuth-3d637b7d.js";import"./BatchUpdateModal-e973d8c0.js";import"./ComponentIcon-f1bbb90f.js";import"./SuperQueryValComponent-97f284a9.js";import"./useViewCommon-0bf8ef6c.js";import"./useSuperQueryCurd-0a66a14b.js";import"./DemoModal-7f7a51bd.js";import"./vuedraggable-vendor-6ef4bc68.js";import"./CardCellFile-92b3c8c8.js";import"./CardTypeBody-646a78e6.js";import"./fullcalendar-vendor-e153c929.js";import"./CalendarTagSelect-abbe5135.js";import"./CalendarLeftTab-c5daf030.js";import"./InfoItem-08fdcae7.js";import"./Biaogeshezhi-292df70e.js";import"./Zdyan-401b7a2f.js";import"./MultipleQueryGroupFilter-7cdf28cf.js";import"./type.definition-4eb605ee.js";import"./Paixu-7611295e.js";import"./Xianshiziduan-dc82edb5.js";import"./Kuaisushaixuan-9e69d26c.js";import"./KsShaixuanDrawer-b9f976a2.js";import"./useFieldSelect-1dde1da7.js";import"./Shaixuanliebiao-3594ac3b.js";import"./Zidingyianniu-9bb48ba8.js";import"./ZdyanDrawer-58ee121b.js";import"./ButtonColorSelector-58fbd93b.js";import"./ButtonConditions-9a9a88d5.js";import"./FilterFiledListNew-bbda127c.js";import"./SelectItem-04dd2229.js";import"./desformUtils-c7daaa89.js";import"./LinkRecordTags-cf4c2463.js";import"./FormSchemaFactory-ec827fa7.js";import"./index-bff0b654.js";import"./DictColors-73058d23.js";import"./ButtonConfirmText-527dd2f0.js";import"./FilterFiledList-8a929f88.js";import"./ButtonFormConfig-7880f3ed.js";import"./FormFieldSelect-9cf3f019.js";import"./useWatchDesigner-b7c458e6.js";import"./Kanbanshezhi-5572f145.js";import"./Kbsz-9c827069.js";import"./Rilishezhi-65cc236a.js";import"./CalendarFieldSelect-832a62ad.js";import"./CheckboxButton-dce03fb6.js";import"./AdvancedFilter-972e0983.js";import"./FilterOperation-229e1139.js";import"./FilterTabBar-45960b35.js";import"./FilterEdit-4f2e84e7.js";import"./ChartConfigDrawer-22b16046.js";import"./RightMoreAction-64132985.js";import"./ImportContentModal-17d6695d.js";import"./HeaderTag-d6c7596f.js";import"./ImportFieldSetModal-deb84b0e.js";import"./ErrorInfoModal-09774eb4.js";const kt=Bo({name:"AutoDesformDataList",components:{PlusOutlined:$o,CalendarOutlined:Go,SlidersOutlined:Jo,TableOutlined:Wo,CaretDownOutlined:Uo,SettingOutlined:Zo,SwapOutlined:Xo,CopyOutlined:Yo,DeleteOutlined:xo,SearchOutlined:et,FilterOutlined:ot,ReloadOutlined:tt,ViewIcon:it,BaseList:rt,CardList:at,CalendarList:st,BaseConfigDrawer:lt,CardFieldSelectModal:pt,CardConfigDrawer:ut,CalendarFieldSelectModal:mt,CalendarConfigDrawer:dt,AutoDesformDataFullScreen:Ho,FilterSelect:ft,ChartConfig:ht,MenuOutlined:nt,ViewLeftDrawer:Ct,ExportModal:At,ImportModal:Dt,ImportStepPage:Lt,RecycleDataListModal:bt,AutoDesformShareView:St},props:{queryDesformCode:String,customButtonsAuth:Object,routeInfo:Object},emits:["loadOk"],setup(e,{emit:s}){const{routeCode:a,activeKey:m,viewConfigList:h,activeConfig:F,onReload:B,onAdd:b,registerDataModal:f,onSuccess:S,globalKeyword:x,onSearch:N,showSearchInput:$,onSearchInputBlur:ee,onSearchInputFocus:oe,searchInputRef:te,defaultFormData:ne,setFormData:ie,isLowApp:K,desformName:G,onSearchValueChange:re,designFormTitleField:ae}=ct(),k=A(!0),q={},{columnList:w,initColumnList:P}=wt();Eo("globalColumnList",w);const{initButtonList:se}=gt(),E=A("记录"),R=Io(),De=Qo();let j="";Mo(()=>v(this,null,function*(){if(e.queryDesformCode)a.value=e.queryDesformCode;else{let o=Oo(R.name),t=R.params.code;o||W.value?(a.value="",a.value=yield To(t)):a.value=t}go()}));const{hasAdminAuth:J,operationAuth:le,excludeViewIds:ue,hasAuth:de,getFormAuth:pe}=yt(),{getHasFunc:I}=vt(),me=I("SHOW_CREATE_BTN"),ce=I("RECORD_COMMENT"),fe=I("FILES_DOWNLOAD"),we=I("RECORD_LOGS"),z=A("visible"),W=No("isShareRecordView",A(!1)),n=Ko(()=>h.value?h.value.find(o=>o.id===m.value):null);function Le(){return K.value===!1?!1:J.value}Ke(a,V,{immediate:!0});function V(){return v(this,null,function*(){if(a.value){if(R.query.view){let o=R.query.view;m.value=o}yield pe(R.params.appId,a.value),yield L()}})}function L(o,t){return v(this,null,function*(){if(k.value=!0,!a.value)return;const l="/desform/view/list";let p={code:a.value},g=yield H.get({url:l,params:p},{isTransformResponse:!1});const{viewList:_,designForm:M,buttonList:d}=g.result;if(!M){j&&clearTimeout(j),s("loadOk");return}ze(_,o,t),P(M),se(d),G.value=M.desformName,je(M),k.value=!1,s("loadOk")})}function je(o){let t=o.desformDesignJson;if(t){let l=JSON.parse(t);l.config&&l.config.titleField&&(ae.value=l.config.titleField)}}function ze(o,t,l){let p=[],g=[],_=ue.value;if(o)for(let d of o){if(_&&_.indexOf(d.id)>=0)continue;g.push(d.id);let O=Q({},d);t&&d.id===t&&(O.timestamp=new Date().getTime()),p.push(O),q[d.id]=A(null)}p.sort(function(d,O){return d.seq-O.seq});let M=m.value;(!M||g.indexOf(M)<0)&&(m.value=p[0].id),K.value===!1?h.value=[p[0]]:h.value=p,setTimeout(()=>{var O,Ee;let d=Ce(m.value);if(l)(O=d==null?void 0:d.setSuperQueryGroup)==null||O.call(d,{matchType:l.matchType,conditions:l.conditions});else{let Ie=F.value;(Ee=d==null?void 0:d.setSuperQueryGroup)==null||Ee.call(d,{matchType:Ie.matchType,conditions:Ie.conditions})}},0)}function He(o){return m.value==o}function $e(o){s("action-click",Q({},o))}function Ge(o,t){o==1?Ze(t):o==2?Je(t,"base"):o==3?We(t):o==4?Ue(t):o==5?Se(t):o==6?be(t):o==8?vo(t):o==9?Te():o==10&&Be()}function be(o){if(o.name==="全部")return;const t="/desform/view/removeView";let l={id:o.id};H.get({url:t,params:l},{isTransformResponse:!1}).then(p=>{if(p.success){let g=h.value;g.length>0&&L(g[0].id)}})}function Se(o){const t="/desform/view/copyView";let l={id:o.id};H.get({url:t,params:l},{isTransformResponse:!1}).then(p=>{p.success&&L(p.result)})}function Je(o,t){const l="/desform/view/updateViewConfig";let p={id:o.id,type:t};H.put({url:l,params:p},{isTransformResponse:!1}).then(g=>{g.success&&L(o.id)})}function We(o){ke(!0,{columnList:w.value,code:a.value,id:o.id})}function Ue(o){Re(!0,{columnList:w.value,code:a.value,id:o.id})}function Ze(o){o.type=="card"?oo(!0,{myTitle:o.name,columnList:w.value,id:o.id,config:Q({},o)}):o.type=="calendar"?io(!0,{myTitle:o.name,columnList:w.value,id:o.id,config:Q({},o)}):Ye(!0,{myTitle:o.name,columnList:w.value,id:o.id,config:Q({},o)})}const[Xe,{openDrawer:Ye,closeDrawer:xe}]=Ae(),[eo,{openDrawer:oo,closeDrawer:to}]=Ae(),[no,{openDrawer:io,closeDrawer:ro}]=Ae();function ao(o,t){return v(this,null,function*(){U(o);const l="/desform/view/addView";let p={type:t,code:a.value},g=yield H.post({url:l,params:p},{isTransformResponse:!1});if(g.success){let _=g.result;yield L(_),m.value=_}})}function U(o){o.preventDefault(),o.stopPropagation()}const[so,{openModal:ke}]=Z(),[lo,{openModal:Re}]=Z();function uo(o){U(o),ke(!0,{columnList:w.value,code:a.value})}function po(o){U(o),Re(!0,{columnList:w.value,code:a.value})}function mo(o){return v(this,null,function*(){yield L(o),m.value=o})}function co(o){return v(this,null,function*(){yield L(o),m.value=o})}function Ve(){return v(this,null,function*(){yield xe(),yield to(),yield ro();let o=h.value;for(let t of o)m.value===t.id&&(t.timestamp=new Date().getTime());setTimeout(()=>{var p;let t=Ce(m.value),l=F.value;(p=t==null?void 0:t.setSuperQueryGroup)==null||p.call(t,{matchType:l.matchType,conditions:l.conditions})},0)})}const ge=qo({matchType:"",superQueryParams:""});function fo(o){Object.keys(ge).map(t=>{ge[t]=o[t]})}const _e=A();function wo(o){U(o),_e.value.open(m.value),z.value="hidden"}Ke(()=>e.routeInfo,o=>{if(o){let t=o.buttonLabel;t&&(E.value=t||"记录"),o.importFlag&&Te(),o.recycleFlag&&Be()}},{deep:!0,immediate:!0});function go(){k.value=!0,j=setTimeout(()=>{k.value=!1},3e3)}function ho(o){m.value=o,Ve()}function Co(){z.value="visible"}const Me=A(100);Me.value=window.innerHeight-50-40;const[yo,{openModal:Oe}]=Z();function vo(o){return v(this,null,function*(){let l=yield Ce(o.id).getTableColumns();l.designFormCode=a.value,l.designFormViewName=l.viewName,Oe(!0,{info:l})})}const he=A();function Te(){let o={columns:w.value,code:a.value};he.value&&he.value.onImportExcel(o)}function Ao(){B()}function Ce(o){let t=q[o];if(t.value){let l=t.value;return l instanceof Array&&(l=l[0]),l}else if(t instanceof Array)return t[0];return t}const Fe=A({add:!0,superQuery:!0,customColumn:!0});function Do(o){Fe.value=o}function Lo(o){Oe(!0,{info:o})}const[bo,{openModal:So}]=Z();function Be(){So(!0,{code:a.value})}function ko(o){return o.name!="全部"}return{activeKey:m,onChangeTab:Ve,isActiveTab:He,handleRightClick:Ge,routeCode:a,viewConfigList:h,currentDynamicConfig:n,registerBaseConfigDrawer:Xe,columnList:w,loadView:L,activeConfig:F,addView:ao,showCreateBtn:me,showComment:ce,showFiles:fe,showDataLog:we,buttonsAuth:Fe,isShareRecordView:W,openSelectModal:uo,registerFieldSelectModal:so,onAddCardView:mo,registerCardConfigDrawer:eo,registerModal:lo,onAddCalendarView:co,openCalendarSelectModal:po,registerCalendarConfigDrawer:no,onReload:B,onAdd:b,registerDataModal:f,onSuccess:S,globalKeyword:x,onSearch:N,showSearchInput:$,onSearchInputBlur:ee,onSearchInputFocus:oe,onButtonsAuthChange:Do,searchInputRef:te,mySuperQuery:ge,onExecuteSuperQuery:fo,handleThrowEvent:$e,defaultFormData:ne,setFormData:ie,desformName:G,isLowApp:K,pageLoading:k,addButtonLabel:E,viewLeftDrawerRef:_e,openLeftViewDrawer:wo,outerHeight:Me,removeView:be,copyView:Se,onChangeLeftView:ho,hasAdminAuth:J,hasAuth:de,operationAuth:le,hasViewConfigAuth:Le,onSearchValueChange:re,registerExportModal:yo,multiViewRefMap:q,importRef:he,onImportOk:Ao,onBaseListExport:Lo,registerRecycleModal:bo,isShowDeleteAction:ko,rootElemOverflow:z,onCloseLeftView:Co}}});const Rt=["id"],Vt={class:"drawer-icon",style:{"margin-left":"10px"}},_t={class:"tab-right-operations"},Mt={key:0,class:"global-search-div"},Ot={key:1,class:"item"},Tt={key:2,class:"item"},Ft={key:3,class:"item"},Bt={class:"item"},Et={class:"item"};function It(e,s,a,m,h,F){const B=i("a-skeleton"),b=i("MenuOutlined"),f=i("a-tooltip"),S=i("plus-outlined"),x=i("table-outlined"),N=i("a-menu-item"),$=i("a-menu-divider"),ee=i("sliders-outlined"),oe=i("calendar-outlined"),te=i("a-menu"),ne=i("a-dropdown"),ie=i("search-outlined"),K=i("a-input"),G=i("SearchOutlined"),re=i("FilterSelect"),ae=i("chart-config"),k=i("ReloadOutlined"),q=i("PlusOutlined"),w=i("a-button"),P=i("view-icon"),se=i("base-list"),E=i("a-tab-pane"),R=i("card-list"),De=i("calendar-list"),j=i("a-tabs"),J=i("base-config-drawer"),le=i("card-config-drawer"),ue=i("calendar-config-drawer"),de=i("card-field-select-modal"),pe=i("calendar-field-select-modal"),I=i("DesformViewModal"),me=i("a-card"),ce=i("AutoDesformShareView"),fe=i("ViewLeftDrawer"),we=i("ExportModal"),z=i("ImportStepPage"),W=i("RecycleDataListModal");return c(),T("div",{style:Po({position:"relative",height:e.outerHeight+"px",overflow:e.rootElemOverflow}),id:e.routeCode},[ye(r(me,{class:"multi-view-list"},{default:u(()=>[ye(r(B,{active:""},null,512),[[ve,e.pageLoading]]),ye(r(j,{activeKey:e.activeKey,"onUpdate:activeKey":s[6]||(s[6]=n=>e.activeKey=n),class:"abc",onChange:e.onChangeTab},{leftExtra:u(()=>[D("span",Vt,[r(f,{placement:"bottom",title:"全部视图"},{default:u(()=>[D("a",{class:"ant-dropdown-link",style:{padding:"5px"},onClick:s[0]||(s[0]=(...n)=>e.openLeftViewDrawer&&e.openLeftViewDrawer(...n))},[r(b,{style:{"font-size":"16px"}})])]),_:1})]),e.hasViewConfigAuth()?(c(),C(ne,{key:0,trigger:["click"],overlayStyle:{width:"120px"}},{overlay:u(()=>[r(te,null,{default:u(()=>[r(N,{key:"0",onClick:s[2]||(s[2]=n=>e.addView(n,"base"))},{default:u(()=>[r(x,{style:{color:"#ffa515","font-size":"13px","margin-right":"10px"}}),X(" 表格 ")]),_:1}),r($),r(N,{key:"2",onClick:s[3]||(s[3]=n=>e.openSelectModal(n,"card"))},{default:u(()=>[r(ee,{style:{color:"#4caf50","font-size":"13px","margin-right":"10px"}}),X(" 看板 ")]),_:1}),r($),r(N,{key:"1",onClick:s[4]||(s[4]=n=>e.openCalendarSelectModal(n,"calendar"))},{default:u(()=>[r(oe,{style:{color:"#f54081","font-size":"13px","margin-right":"10px"}}),X(" 日历 ")]),_:1})]),_:1})]),default:u(()=>[D("a",{class:"ant-dropdown-link",style:{padding:"5px","margin-right":"7px"},onClick:s[1]||(s[1]=qe(()=>{},["prevent"]))},[r(S,{style:{"font-size":"16px"}})])]),_:1})):y("",!0)]),rightExtra:u(()=>[D("div",_t,[e.showSearchInput?(c(),T("div",Mt,[r(K,{ref:"searchInputRef",placeholder:"搜索",class:"my-input",enterButton:!1,allowClear:"",value:e.globalKeyword,"onUpdate:value":s[5]||(s[5]=n=>e.globalKeyword=n),onKeyup:jo(e.onSearch,["enter"]),onBlur:e.onSearchInputBlur,onChange:e.onSearchValueChange},{prefix:u(()=>[r(ie,{style:{color:"#c0c0c0"}})]),_:1},8,["value","onKeyup","onBlur","onChange"])])):(c(),T("div",Ot,[r(f,{placement:"bottom",title:"搜索"},{default:u(()=>[r(G,{onClick:qe(e.onSearchInputFocus,["prevent"])},null,8,["onClick"])]),_:1})])),e.buttonsAuth.superQuery?(c(),T("div",Tt,[r(re,{routeCode:e.routeCode,columnList:e.columnList,onFilter:e.onExecuteSuperQuery},null,8,["routeCode","columnList","onFilter"])])):y("",!0),e.isLowApp?(c(),T("div",Ft,[r(ae,{isLowApp:e.isLowApp,routeCode:e.routeCode,desformName:e.desformName},null,8,["isLowApp","routeCode","desformName"])])):y("",!0),D("div",Bt,[r(f,{placement:"bottom",title:"刷新"},{default:u(()=>[r(k,{onClick:e.onReload},null,8,["onClick"])]),_:1})]),D("div",Et,[e.showCreateBtn&&e.hasAuth("add")&&e.buttonsAuth.add?(c(),C(w,{key:0,type:"primary",onClick:e.onAdd,shape:"round",class:"my-add-button"},{default:u(()=>[r(q,{onClick:e.onAdd},null,8,["onClick"]),X(" "+Y(e.addButtonLabel),1)]),_:1},8,["onClick"])):y("",!0)])])]),default:u(()=>[(c(!0),T(Pe,null,zo(e.viewConfigList,(n,Le)=>(c(),T(Pe,null,[n.type=="base"?(c(),C(E,{key:n.id},{tab:u(()=>[D("span",null,Y(n.name),1),e.isActiveTab(n.id)?(c(),C(P,{key:0,operationAuth:e.operationAuth,buttonsAuth:e.buttonsAuth,showDelete:e.isShowDeleteAction(n),hasAdminAuth:e.hasAdminAuth,onConfig:V=>e.handleRightClick(V,n)},null,8,["operationAuth","buttonsAuth","showDelete","hasAdminAuth","onConfig"])):y("",!0)]),default:u(()=>[r(se,{ref_for:!0,ref:e.multiViewRefMap[n.id],dynamicConfig:n,timestamp:n.timestamp,keyword:n.keyword,searchTime:n.searchTime,superQuery:e.mySuperQuery,code:e.routeCode,customButtonsAuth:e.customButtonsAuth,onActionClick:e.handleThrowEvent,viewId:n.id,onLeftSelect:e.setFormData,onButtonsAuthChange:e.onButtonsAuthChange,onExport:e.onBaseListExport},null,8,["dynamicConfig","timestamp","keyword","searchTime","superQuery","code","customButtonsAuth","onActionClick","viewId","onLeftSelect","onButtonsAuthChange","onExport"])]),_:2},1024)):n.type=="card"?(c(),C(E,{key:n.id},{tab:u(()=>[D("span",null,Y(n.name),1),e.isActiveTab(n.id)?(c(),C(P,{key:0,buttonsAuth:e.buttonsAuth,operationAuth:e.operationAuth,hasAdminAuth:e.hasAdminAuth,onConfig:V=>e.handleRightClick(V,n)},null,8,["buttonsAuth","operationAuth","hasAdminAuth","onConfig"])):y("",!0)]),default:u(()=>[r(R,{ref_for:!0,ref:e.multiViewRefMap[n.id],dynamicConfig:n,timestamp:n.timestamp,superQuery:e.mySuperQuery,keyword:n.keyword,code:e.routeCode,viewId:n.id},null,8,["dynamicConfig","timestamp","superQuery","keyword","code","viewId"])]),_:2},1024)):n.type=="calendar"?(c(),C(E,{key:n.id},{tab:u(()=>[D("span",null,Y(n.name),1),e.isActiveTab(n.id)?(c(),C(P,{key:0,buttonsAuth:e.buttonsAuth,operationAuth:e.operationAuth,hasAdminAuth:e.hasAdminAuth,onConfig:V=>e.handleRightClick(V,n)},null,8,["buttonsAuth","operationAuth","hasAdminAuth","onConfig"])):y("",!0)]),default:u(()=>[e.isActiveTab(n.id)?(c(),C(De,{key:0,ref_for:!0,ref:e.multiViewRefMap[n.id],"view-id":n.id,dynamicConfig:n,timestamp:n.timestamp,superQuery:e.mySuperQuery,keyword:n.keyword,code:e.routeCode},null,8,["view-id","dynamicConfig","timestamp","superQuery","keyword","code"])):y("",!0)]),_:2},1024)):y("",!0)],64))),256))]),_:1},8,["activeKey","onChange"]),[[ve,!e.pageLoading]]),r(J,{isLowApp:e.isLowApp,"db-config":e.activeConfig,onRegister:e.registerBaseConfigDrawer,onReload:e.loadView},null,8,["isLowApp","db-config","onRegister","onReload"]),r(le,{isLowApp:e.isLowApp,"db-config":e.activeConfig,onRegister:e.registerCardConfigDrawer,onReload:e.loadView},null,8,["isLowApp","db-config","onRegister","onReload"]),r(ue,{isLowApp:e.isLowApp,"db-config":e.activeConfig,onRegister:e.registerCalendarConfigDrawer,onReload:e.loadView},null,8,["isLowApp","db-config","onRegister","onReload"]),r(de,{onRegister:e.registerFieldSelectModal,onSelect:e.onAddCardView},null,8,["onRegister","onSelect"]),r(pe,{onRegister:e.registerModal,onSelect:e.onAddCalendarView},null,8,["onRegister","onSelect"]),r(I,{showComment:e.showComment,showFiles:e.showFiles,showDataLog:e.showDataLog,defaultFormData:e.defaultFormData,dynamicConfig:e.currentDynamicConfig,onRegister:e.registerDataModal,onSuccess:e.onSuccess},null,8,["showComment","showFiles","showDataLog","defaultFormData","dynamicConfig","onRegister","onSuccess"])]),_:1},512),[[ve,!e.isShareRecordView]]),e.isShareRecordView?(c(),C(ce,{key:0,currentViewId:e.activeKey,viewConfigList:e.viewConfigList},null,8,["currentViewId","viewConfigList"])):y("",!0),r(fe,{ref:"viewLeftDrawerRef",routeCode:e.routeCode,viewConfigList:e.viewConfigList,onClose:e.onCloseLeftView,onActive:e.onChangeLeftView,onOk:e.loadView,onCopy:e.copyView,onDelete:e.removeView},null,8,["routeCode","viewConfigList","onClose","onActive","onOk","onCopy","onDelete"]),r(we,{onRegister:e.registerExportModal},null,8,["onRegister"]),r(z,{ref:"importRef",onSuccess:e.onImportOk},null,8,["onSuccess"]),r(W,{onRegister:e.registerRecycleModal,onSuccess:e.onImportOk},null,8,["onRegister","onSuccess"])],12,Rt)}const cr=Fo(kt,[["render",It]]);export{cr as default};
