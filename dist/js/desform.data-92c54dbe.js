var s=(e,d,i)=>new Promise((c,m)=>{var r=o=>{try{t(i.next(o))}catch(a){m(a)}},l=o=>{try{t(i.throw(o))}catch(a){m(a)}},t=o=>o.done?c(o.value):Promise.resolve(o.value).then(r,l);t((i=i.apply(e,d)).next())});import{e as u}from"./user.api-ffaaa05b.js";import{e as f,u as n}from"./vue-vendor-24c7dc61.js";const g=[{title:"表单名称",width:420,align:"left",dataIndex:"desformName"},{title:"表单编码",width:240,align:"center",dataIndex:"desformCode"},{title:"移动视图",width:240,align:"center",dataIndex:"izMobileView_dictText",customRender:({record:e})=>e.izMobileView===1?"✔":""}],I=[{label:"表单名称",field:"desformName",component:"JInput"},{label:"表单编码",field:"desformCode",component:"JInput"}];function S(e){const{isUpdate:d,isCopying:i,isCopyView:c,copyMethod:m,isListModal:r}=e;return f(()=>[{label:"",field:"id",component:"Input",show:!1},{label:"表单名称",field:"desformName",required:!0,component:"Input",componentProps:{placeholder:"例如：客户、采购单",maxlength:20,showCount:!0,id:"desformNameInput",onChange(l){if(n(d))return;let t=l.target.value;e.onDesformNameChange(t)}}},{label:"表单编码",field:"desformCode",component:"Input",dynamicDisabled:()=>d.value&&!i.value&&!c.value,ifShow:()=>r.value,dynamicRules({model:l}){return[{required:!0,message:"请输入表单名称"},{validator(o,a){return s(this,null,function*(){if(/^[a-z|A-Z][a-z|A-Z\d_-]*$/.test(a)){if(/[A-Z]/.test(a))throw"不支持大写字母";if(!(yield u({tableName:"design_form",fieldName:"desform_code",fieldVal:a,dataId:l.id})).success)throw"表单编码已存在！"}else throw"编码必须以字母开头，可包含数字、下划线、横杠"})}}]}},{label:"复制方式",field:"copyMethod",component:"Input",slot:"copyMethod",ifShow:()=>c.value&&r.value},{label:"Online表单",field:"cgformSwitch",component:"Input",slot:"cgformSwitch",ifShow:()=>!d.value&&r.value},{label:"选择表单",field:"cgformCode",component:"Select",componentProps:{options:n(e.cgformOptions),showSearch:!0,filterOption(l,t){var o;return((o=t==null?void 0:t.label)==null?void 0:o.toLowerCase().indexOf(l==null?void 0:l.toLowerCase()))>=0},getPopupContainer:()=>document.body,placeholder:"请选择表单"},required:!0,ifShow:()=>!d.value&&(n(e.openCgform)||n(m)===2)},{label:"表单模板",field:"templetValue",component:"Select",componentProps:{options:n(e.templetOptions),getPopupContainer:()=>document.body,onChange(l,t){e.templetJson.value=t.templetJson}},ifShow:()=>n(e.openCgform)||n(m)===2},{label:"设为移动视图",field:"izMobileView",helpMessage:"只能有一个移动视图",component:"Switch",componentProps:{checkedValue:1,unCheckedValue:0,checkedChildren:"是",unCheckedChildren:"否"},ifShow:()=>e.showSetMobileView.value}])}const v={searchFormSchemas:[{label:"模板名称",field:"templetName",component:"JInput"},{label:"模板编码",field:"templetCode",component:"JInput"}],columns:[{title:"模板名称",dataIndex:"templetName"},{title:"模板编码",dataIndex:"templetCode"},{title:"创建时间",width:260,dataIndex:"createTime"},{title:"修改时间",width:260,dataIndex:"updateTime"}],formSchemas:[{label:"模板名称",field:"templetName",component:"Input",required:!0},{label:"模板编码",field:"templetCode",component:"Input",required:!0}]};export{g as c,S as g,I as s,v as t};
