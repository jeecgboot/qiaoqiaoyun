var _=(h,d,a)=>new Promise((n,c)=>{var u=t=>{try{l(a.next(t))}catch(s){c(s)}},p=t=>{try{l(a.throw(t))}catch(s){c(s)}},l=t=>t.done?n(t.value):Promise.resolve(t.value).then(u,p);l((a=a.apply(h,d)).next())});import{d as j,f as K,V as m,a6 as g,af as y,ai as o,k as i,E as b,W as k,u as r,ag as N,I as R}from"./vue-vendor-24c7dc61.js";import{B as O}from"./index-1c3affea.js";import{u as A}from"./index-621e597c.js";import{r as D}from"./user.data-965c1456.js";import{l as H,m as W,n as z}from"./user.api-ffaaa05b.js";import{j as E,a as F}from"./index-831af9dd.js";import{T as L}from"./componentMap-c857637c.js";import P from"./BasicTable-d435f501.js";import"./BasicModal-58413bab.js";import"./antd-vue-vendor-0d72f01e.js";import"./useWindowSizeFn-8f085f6f.js";import"./validator-bc7dc032.js";import"./renderUtils-7ad8f436.js";import"./index-b845562c.js";import"./vxe-table-vendor-8813019a.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";const Le=j({__name:"UserRecycleBinModal",emits:["success","register"],setup(h,{emit:d}){const{createConfirm:a}=F(),n=K([]),[c]=E(()=>{n.value=[]}),[u,{reload:p}]=A({api:H,columns:D,rowKey:"id",striped:!0,useSearchForm:!1,showTableSetting:!1,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,pagination:!0,tableSetting:{fullScreen:!0},canResize:!1,actionColumn:{width:150,title:"操作",dataIndex:"action",fixed:void 0}}),l={type:"checkbox",columnWidth:50,selectedRowKeys:n,onChange:t};function t(e){n.value=e}function s(e){return _(this,null,function*(){yield W({userIds:e.id},p),d("success")})}function T(){s({id:R(r(n)).join(",")})}function w(e){return _(this,null,function*(){yield z({userIds:e.id},p)})}function B(){a({iconType:"warning",title:"删除",content:"确定要永久删除吗？删除后将不可恢复！",onOk:()=>w({id:R(r(n)).join(",")}),onCancel(){}})}function v(e){return[{label:"取回",icon:"ant-design:redo-outlined",popConfirm:{title:"是否确认还原",confirm:s.bind(null,e)}},{label:"彻底删除",icon:"ant-design:scissor-outlined",popConfirm:{title:"是否确认删除",confirm:w.bind(null,e)}}]}return(e,U)=>{const f=m("Icon"),C=m("a-menu-item"),x=m("a-menu"),I=m("a-button"),S=m("a-dropdown");return g(),y(r(O),N(e.$attrs,{onRegister:r(c),title:"用户回收站",showOkBtn:!1,width:"1000px",destroyOnClose:""}),{default:o(()=>[i(r(P),{onRegister:r(u),rowSelection:l},{tableTitle:o(()=>[n.value.length>0?(g(),y(S,{key:0},{overlay:o(()=>[i(x,null,{default:o(()=>[i(C,{key:"1",onClick:B},{default:o(()=>[i(f,{icon:"ant-design:delete-outlined"}),b(" 批量删除 ")]),_:1}),i(C,{key:"1",onClick:T},{default:o(()=>[i(f,{icon:"ant-design:redo-outlined"}),b(" 批量还原 ")]),_:1})]),_:1})]),default:o(()=>[i(I,null,{default:o(()=>[b("批量操作 "),i(f,{icon:"ant-design:down-outlined"})]),_:1})]),_:1})):k("",!0)]),bodyCell:o(({column:M,record:V})=>[M.key==="action"?(g(),y(r(L),{key:0,actions:v(V)},null,8,["actions"])):k("",!0)]),_:1},8,["onRegister"])]),_:1},16,["onRegister"])}}});export{Le as default};
