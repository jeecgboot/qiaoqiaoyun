var k=Object.defineProperty,K=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var I=(o,e,a)=>e in o?k(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,v=(o,e)=>{for(var a in e||(e={}))V.call(e,a)&&I(o,a,e[a]);if(D)for(var a of D(e))j.call(e,a)&&I(o,a,e[a]);return o},T=(o,e)=>K(o,N(e));import{f as n,e as x}from"./vue-vendor-24c7dc61.js";import"./index-1c3affea.js";import{r as B,e as O}from"./index-831af9dd.js";function G(){const o=n(""),e=n([]),a=n(""),u=n(""),w=n("");let l=n(!1),s=B.currentRoute.value;s&&s.meta&&(s.meta.lowApp?l.value=!0:l.value=!1);const F=x(()=>{let t=e.value;if(!t||t.length==0)return{};let i=t.filter(r=>r.id==a.value);return T(v({},i[0]),{isLowApp:l.value,desformName:u.value,designFormTitleField:w.value})});function f(t){t&&d(t);const i=a.value;let r=e.value;for(let A of r)if(A.id==i){A.timestamp=new Date().getTime();break}}function d(t){t.preventDefault(),t.stopPropagation()}const[C,{openModal:S}]=O(),g=n({});function b(t){d(t),S(!0,{mode:"add",desformCode:o.value,dataId:"",isOnline:!1,viewId:a.value,lowAppId:s.params.appId})}function y(t){g.value=v({},t)}function L(){f()}const c=n(""),p=n(!1),m=n();function R(){c.value||(p.value=!1)}function H(t){t&&d(t),p.value=!0,setTimeout(()=>{m.value&&m.value.focus()},200)}function M(){c.value==""&&h()}function h(){let t=c.value,i=e.value;for(let r of i)r.keyword=t,r.searchTime=new Date().getTime();f()}return{routeCode:o,activeKey:a,viewConfigList:e,activeConfig:F,onReload:f,registerDataModal:C,onAdd:b,onSuccess:L,globalKeyword:c,onSearch:h,showSearchInput:p,onSearchInputBlur:R,searchInputRef:m,onSearchInputFocus:H,defaultFormData:g,setFormData:y,isLowApp:l,desformName:u,onSearchValueChange:M,designFormTitleField:w}}function J(o){const e=n(0);e.value=window.innerHeight-155;function a(){let u="view-config-drawer";return o&&o.isLowApp===!0&&(u+=" jeecg-basic-drawer  inner-low-app",e.value=window.innerHeight-105),u}return{myHeight:e,getDrawerClass:a}}export{J as a,G as u};
