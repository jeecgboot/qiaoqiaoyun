var q=Object.defineProperty,D=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(e,a,d)=>a in e?q(e,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[a]=d,A=(e,a)=>{for(var d in a||(a={}))R.call(a,d)&&w(e,d,a[d]);if(C)for(var d of C(a))j.call(a,d)&&w(e,d,a[d]);return e},F=(e,a)=>D(e,H(a));var I=(e,a,d)=>new Promise((i,v)=>{var m=l=>{try{n(d.next(l))}catch(f){v(f)}},c=l=>{try{n(d.throw(l))}catch(f){v(f)}},n=l=>l.done?i(l.value):Promise.resolve(l.value).then(m,c);n((d=d.apply(e,a)).next())});import{B as z}from"./index-1c3affea.js";import{d as G,f as B,e as k,r as W,u as $,a5 as g,E,V as h,a6 as J,a7 as K,F as L,k as t,ap as Q,aq as X,ai as o,W as Y,ag as _}from"./vue-vendor-24c7dc61.js";import{q as Z,d as x,j as ee,b as ae,l as te}from"./index-831af9dd.js";import{h as de}from"./antd-vue-vendor-0d72f01e.js";import{a as M}from"./desform.api-4c557ed3.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./vxe-table-vendor-8813019a.js";const oe={add:{checked:!1,loading:!0},edit:{checked:!1,loading:!0},detail:{checked:!1,loading:!0}},se=G({name:"DesformAddressModal",components:{BasicModal:z},emits:["register"],setup(e){const a=Z(),{domainUrl:d}=x(),i=B(),v=B("配置地址"),m=B(de(oe)),[c,{closeModal:n}]=ee(V),l=k(()=>{let r={width:750,title:$(v)};return F(A(A(A({},r),$(a)),e),{onOk:N,onCancel:P,onRegister:c})}),f=k(()=>({checkedChildren:"有效",unCheckedChildren:"无效"})),b=k(()=>{let r=`${d}/desform/`,u=`/${i.value}`;return{list:`/online/desform/list/${i.value}`,form:`/online/desform/view/${i.value}`,back:{add:`${r}add${u}`,edit:`${r}edit${u}/{dataId}`,detail:`${r}detail${u}/{dataId}`}}}),s=k(()=>ae());function V(r){let u=r==null?void 0:r.record;i.value=u==null?void 0:u.desformCode,O()}function P(){n()}function N(){P(),M.editAllStatus(i.value,{add:m.value.add.checked===!0?1:2,edit:m.value.edit.checked===!0?1:2,detail:m.value.detail.checked===!0?1:2})}function O(){return I(this,null,function*(){let r=yield M.queryAllStatus(i.value),u={};r.forEach(y=>{u[y.urlType]={checked:y.urlStatus===1,loading:!1}}),m.value=u})}const p=W({base:"",value:"",visible:!1}),U=k(()=>p.value?p.base.replace(/{dataId}/,p.value)+"?token="+s.value:null),S=k(()=>({title:"请输入dataId",minHeight:120,centered:!0,canFullscreen:!1,onOk:()=>p.visible=!1,onCancel:()=>p.visible=!1}));function T(r){p.base=r,p.value="",p.visible=!0}return{getProps:l,switchProps:f,getAddress:b,model:m,accessToken:s,openPage:T,dataIdBind:S,dataIdHref:U,dataIdProps:p}}}),le=["href"];const ne=["href"],re=g("div",{style:{"text-align":"right",color:"red"}},[E("注意："),g("span",{style:{"font-weight":"bold"}},"{dataId}"),E(" 为数据id")],-1),ue=["href"];function ie(e,a,d,i,v,m){const c=h("a-input"),n=h("a-col"),l=h("a-row"),f=h("a-switch"),b=h("BasicModal");return J(),K(L,null,[t(b,Q(X(e.getProps)),{default:o(()=>[t(l,{style:{"margin-bottom":"8px"}},{default:o(()=>[t(n,{span:21},{default:o(()=>[t(c,{readOnly:!0,addonBefore:"数据列表地址",value:e.getAddress.list},{addonAfter:o(()=>[g("a",{href:e.getAddress.list,target:"_blank"},"打开",8,le)]),_:1},8,["value"])]),_:1})]),_:1}),Y("",!0),t(l,{style:{"margin-bottom":"8px"}},{default:o(()=>[t(n,{span:21},{default:o(()=>[t(c,{readOnly:!0,addonBefore:"后台新增地址",value:e.getAddress.back.add},{addonAfter:o(()=>[g("a",{href:e.getAddress.back.add+"?token="+e.accessToken,target:"_blank"},"打开",8,ne)]),_:1},8,["value"])]),_:1}),t(n,{span:3,style:{"text-align":"center"}},{default:o(()=>[t(f,_({checked:e.model.add.checked,"onUpdate:checked":a[0]||(a[0]=s=>e.model.add.checked=s),loading:e.model.add.loading},e.switchProps),null,16,["checked","loading"])]),_:1})]),_:1}),t(l,{style:{"margin-bottom":"8px"}},{default:o(()=>[t(n,{span:21},{default:o(()=>[t(c,{readOnly:!0,addonBefore:"后台修改地址",value:e.getAddress.back.edit},{addonAfter:o(()=>[g("a",{onClick:a[1]||(a[1]=s=>e.openPage(e.getAddress.back.edit))},"打开")]),_:1},8,["value"])]),_:1}),t(n,{span:3,style:{"text-align":"center"}},{default:o(()=>[t(f,_({checked:e.model.edit.checked,"onUpdate:checked":a[2]||(a[2]=s=>e.model.edit.checked=s),loading:e.model.edit.loading},e.switchProps),null,16,["checked","loading"])]),_:1})]),_:1}),t(l,{style:{"margin-bottom":"8px"}},{default:o(()=>[t(n,{span:21},{default:o(()=>[t(c,{readOnly:!0,addonBefore:"后台详情地址",value:e.getAddress.back.detail},{addonAfter:o(()=>[g("a",{onClick:a[3]||(a[3]=s=>e.openPage(e.getAddress.back.detail))},"打开")]),_:1},8,["value"])]),_:1}),t(n,{span:3,style:{"text-align":"center"}},{default:o(()=>[t(f,_({checked:e.model.detail.checked,"onUpdate:checked":a[4]||(a[4]=s=>e.model.detail.checked=s),loading:e.model.detail.loading},e.switchProps),null,16,["checked","loading"])]),_:1})]),_:1}),re]),_:1},16),t(b,_({visible:e.dataIdProps.visible,"onUpdate:visible":a[7]||(a[7]=s=>e.dataIdProps.visible=s)},e.dataIdBind),{footer:o(()=>[g("a",{class:"ant-btn ant-btn-primary",href:e.dataIdHref,target:"_blank",onClick:a[6]||(a[6]=s=>e.dataIdProps.visible=!1)},"确定",8,ue)]),default:o(()=>[t(c,{placeholder:"请输入dataId",value:e.dataIdProps.value,"onUpdate:value":a[5]||(a[5]=s=>e.dataIdProps.value=s)},null,8,["value"])]),_:1},16,["visible"])],64)}const Ae=te(se,[["render",ie]]);export{Ae as default};
