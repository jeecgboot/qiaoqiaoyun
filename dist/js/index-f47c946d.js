import{a2 as I,e as d,I as M,u as l,d as F,V as h,a6 as i,a7 as g,F as C,am as K,q as b,af as p,A as N,W as _,k as S,ai as V,az as A,al as P,o as B,v as D,a8 as E}from"./vue-vendor-24c7dc61.js";import O from"./index-580b50d4.js";import{cC as $,l as L,bG as w,bH as k,h as Q,d as q}from"./index-831af9dd.js";import{aN as z}from"./antd-vue-vendor-0d72f01e.js";import{u as R}from"./useMultipleTabSetting-1a491ba1.js";import{a as G}from"./useContentViewHeight-96ef8825.js";import"./useWindowSizeFn-8f085f6f.js";import"./vxe-table-vendor-8813019a.js";function H(){const e=I(),{currentRoute:s}=e,{getShowMultipleTab:a}=R(),r=$(),c=d(()=>n(M(e.getRoutes()))||[]),u=d(()=>r.getTabList.reduce((o,m)=>(m.meta&&Reflect.has(m.meta,"frameSrc")&&o.push(m.name),o),[]));function n(o){let m=[];for(const v of o){const{meta:{frameSrc:T}={},children:y}=v;T&&m.push(v),y&&y.length&&m.push(...n(y))}return m=z(m,"name"),m}function t(o){return o.name===l(s).name}function f(o){return l(a)?l(u).includes(o):e.currentRoute.value.name===o}return{hasRenderFrame:f,getFramePages:c,showIframe:t,getAllFramePages:n}}const W=F({name:"FrameLayout",components:{FramePage:O},setup(){const{getFramePages:e,hasRenderFrame:s,showIframe:a}=H(),r=d(()=>l(e).length>0);return{getFramePages:e,hasRenderFrame:s,showIframe:a,showFrame:r}}}),j={key:0};function J(e,s,a,r,c,u){const n=h("FramePage");return e.showFrame?(i(),g("div",j,[(i(!0),g(C,null,K(e.getFramePages,t=>(i(),g(C,{key:t.path},[t.meta.frameSrc&&e.hasRenderFrame(t.name)?b((i(),p(n,{key:0,frameSrc:t.meta.frameSrc},null,8,["frameSrc"])),[[N,e.showIframe(t)]]):_("",!0)],64))),128))])):_("",!0)}const U=L(W,[["render",J]]);function X({route:e,openCache:s,cacheTabs:a,enableTransition:r,def:c}){if(!r)return;const u=a.includes(e.name),n="fade-slide";let t=n;return s&&(t=u&&e.meta.loaded?n:void 0),t||e.meta.transitionName||c}const Y=F({name:"PageLayout",components:{FrameLayout:U},setup(){const{getShowMultipleTab:e}=R(),s=$(),{getOpenKeepAlive:a,getCanEmbedIFramePage:r}=w(),{getBasicTransition:c,getEnableTransition:u}=k(),n=d(()=>l(a)&&l(e)),t=d(()=>l(a)?s.getCachedTabList:[]);return{getTransitionName:X,openCache:n,getEnableTransition:u,getBasicTransition:c,getCaches:t,getCanEmbedIFramePage:r}}});function Z(e,s,a,r,c,u){const n=h("RouterView"),t=h("FrameLayout");return i(),g(C,null,[S(n,null,{default:V(({Component:f,route:o})=>[e.openCache?(i(),p(A,{key:0,include:e.getCaches},[(i(),p(P(f),{key:o.fullPath}))],1032,["include"])):(i(),p(P(f),{key:o.fullPath}))]),_:1}),e.getCanEmbedIFramePage?(i(),p(t,{key:0})):_("",!0)],64)}const x=L(Y,[["render",Z]]),ee=F({name:"LayoutContent",components:{PageLayout:x},setup(){const{prefixCls:e}=Q("layout-content"),{getOpenPageLoading:s}=k(),{getLayoutContentMode:a,getPageLoading:r}=w(),u=q().openQianKun;return G(),B(()=>{}),{prefixCls:e,openQianKun:u,getOpenPageLoading:s,getLayoutContentMode:a,getPageLoading:r}}});const te={key:0,id:"content",class:"app-view-box"};function ne(e,s,a,r,c,u){const n=h("PageLayout"),t=D("loading");return b((i(),g("div",{class:E([e.prefixCls,e.getLayoutContentMode])},[S(n),e.openQianKun=="true"?(i(),g("div",te)):_("",!0)],2)),[[t,e.getOpenPageLoading&&e.getPageLoading]])}const le=L(ee,[["render",ne]]);export{le as default};
