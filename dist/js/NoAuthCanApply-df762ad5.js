var h=(o,l,a)=>new Promise((r,i)=>{var p=t=>{try{n(a.next(t))}catch(e){i(e)}},u=t=>{try{n(a.throw(t))}catch(e){i(e)}},n=t=>t.done?r(t.value):Promise.resolve(t.value).then(p,u);n((a=a.apply(o,l)).next())});import{d as k,f as m,e as F,o as I,a3 as B,a4 as N,a5 as s,V as g,a6 as c,a7 as d,k as S,ai as v,ak as y,F as b,am as D,E as w,ae as x}from"./vue-vendor-24c7dc61.js";import{a as V}from"./useAdminConfig-4dc7202c.js";import{d as $,g as E}from"./organization.api-98a6e46c.js";import{a7 as U,l as T}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const z=k({name:"NoAuthCanApply",setup(){const o=U(),l=m([]),a=m(!1),r=m("");function i(){let e=[...V];l.value=e,a.value=!1}function p(e,_){i();let C=l.value;for(let f of C)f.code,f.count=e[f.code]||0;r.value=_}function u(){return h(this,null,function*(){if(a.value===!1){let e=o.getUserInfo.id,_={tenantId:r.value,userId:e,packCode:"superAdmin"};a.value=!0,yield $(_)}})}const n=F(()=>a.value===!1?{}:{color:"#bdbdbd !important"});function t(){return h(this,null,function*(){yield E().then(e=>{e.success&&e.result>0&&(a.value=!0)})})}return I(()=>{t()}),{dataSource:l,applyAuth:u,init:p,applyButtonStyle:n}}});const A=o=>(B("data-v-fc38f397"),o=o(),N(),o),L={class:"role-auth-container"},M=A(()=>s("div",{class:"role-auth-header"},[s("div",{class:"detail-title"}," 申请角色权限 ")],-1)),P={style:{"border-bottom":"1px solid #f0f0f0"}},R=A(()=>s("div",{class:"role-list-title"},[s("div",{class:"role-name"},"角色名称"),s("div",{class:"role-count"},"人数"),s("div",{class:"role-auth"},"描述"),s("div",{class:"role-operation"},"操作")],-1)),j={class:"role-name ellipsis role-line-height"},q={class:"role-count role-line-height"},G={class:"role-auth ellipsis role-line-height"},H={style:{"margin-right":"16px"}},J=A(()=>s("span",{style:{color:"#9e9e9e"}},"(所有权限)",-1)),K={key:1,class:"role-operation role-line-height role-reply"};function O(o,l,a,r,i,p){const u=g("a-list-item"),n=g("a-list");return c(),d("div",L,[M,s("div",P,[S(n,{class:"list-background","data-source":o.dataSource},{header:v(()=>[R]),renderItem:v(({item:t})=>[S(u,{class:"role-list-item"},{default:v(()=>[s("div",j,y(t.roleName),1),s("div",q,y(t.count),1),s("div",G,[(c(!0),d(b,null,D(t.description,e=>(c(),d("span",H,[w(y(e)+" ",1),J]))),256))]),t.code==="superAdmin"?(c(),d("div",{key:0,style:x(o.applyButtonStyle),class:"role-operation role-line-height role-reply",onClick:l[0]||(l[0]=(...e)=>o.applyAuth&&o.applyAuth(...e))}," 申请角色权限 ",4)):(c(),d("div",K))]),_:2},1024)]),_:1},8,["data-source"])])])}const oe=T(z,[["render",O],["__scopeId","data-v-fc38f397"]]);export{oe as default};
