var te=Object.defineProperty;var F=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var D=(e,s,t)=>s in e?te(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,L=(e,s)=>{for(var t in s||(s={}))se.call(s,t)&&D(e,t,s[t]);if(F)for(var t of F(s))oe.call(s,t)&&D(e,t,s[t]);return e};var _=(e,s,t)=>new Promise((a,n)=>{var i=l=>{try{m(t.next(l))}catch(y){n(y)}},p=l=>{try{m(t.throw(l))}catch(y){n(y)}},m=l=>l.done?a(l.value):Promise.resolve(l.value).then(i,p);m((t=t.apply(e,s)).next())});import{d as S,e as I,V as C,a6 as h,a7 as k,a8 as N,af as b,W as v,E as ae,ak as ie,ai as H,k as q,ag as O,F as w,ap as le,am as G,u as o,I as ce,f as V,r as ue,H as j,a2 as re,w as pe}from"./vue-vendor-24c7dc61.js";import{q as P,bu as me}from"./antd-vue-vendor-0d72f01e.js";import{H as f,bN as $,c4 as J,c5 as de,o as fe,R as he,h as R,l as B,bO as Z,bJ as Q,p as ye,c6 as z,bP as Me,bQ as Ce,z as ge,bV as Ie}from"./index-831af9dd.js";const be={items:{type:Array,default:()=>[]},collapsedShowTitle:f.bool,inlineIndent:f.number.def(20),mode:{type:String,default:$.INLINE},type:{type:String,default:J.MIX},theme:{type:String,default:de.DARK},inlineCollapsed:f.bool,mixSider:f.bool,isHorizontal:f.bool,accordion:f.bool.def(!0),beforeClickFn:{type:Function}},U={item:{type:Object,default:{}},level:f.number,theme:f.oneOf(["dark","light"]),showTitle:f.bool,isHorizontal:f.bool},Ke={item:{type:Object,default:null},showTitle:f.bool.def(!0),level:f.number.def(0),isHorizontal:f.bool.def(!0)},{t:Oe}=fe(),$e=S({name:"MenuItemContent",components:{Icon:he},props:Ke,setup(e){const{prefixCls:s}=R("basic-menu-item-content"),t=I(()=>{var n;return Oe((n=e.item)==null?void 0:n.name)}),a=I(()=>{var n;return(n=e.item)==null?void 0:n.icon});return{prefixCls:s,getI18nName:t,getIcon:a}}});function _e(e,s,t,a,n,i){const p=C("Icon");return h(),k("span",{class:N(`${e.prefixCls}- flex items-center `)},[e.getIcon?(h(),b(p,{key:0,icon:e.getIcon,size:18,class:N(`${e.prefixCls}-wrapper__icon mr-2`)},null,8,["icon","class"])):v("",!0),ae(" "+ie(e.getI18nName),1)],2)}const W=B($e,[["render",_e]]),ke=S({name:"BasicMenuItem",components:{MenuItem:P.Item,MenuItemContent:W},props:U,setup(){return{}}});function He(e,s,t,a,n,i){const p=C("MenuItemContent"),m=C("MenuItem");return h(),b(m,{key:e.item.path,title:e.item.title},{default:H(()=>[q(p,O(e.$props,{item:e.item}),null,16,["item"])]),_:1},8,["title"])}const Se=B(ke,[["render",He]]),Be=S({name:"BasicSubMenuItem",isSubMenu:!0,components:{BasicMenuItem:Se,SubMenu:P.SubMenu,MenuItemContent:W},props:U,setup(e){const{prefixCls:s}=R("basic-menu-item"),t=I(()=>{var n;return!((n=e.item.meta)!=null&&n.hideMenu)});function a(n){var i;return!((i=n.meta)!=null&&i.hideChildrenInMenu)&&Reflect.has(n,"children")&&!!n.children&&n.children.length>0&&Z(n)}return{prefixCls:s,menuHasChildren:a,checkChildrenHidden:Z,getShowMenu:t}}});function Ne(e,s,t,a,n,i){const p=C("BasicMenuItem"),m=C("MenuItemContent"),l=C("BasicSubMenuItem",!0),y=C("SubMenu");return h(),k(w,null,[!e.menuHasChildren(e.item)&&e.getShowMenu?(h(),b(p,le(O({key:0},e.$props)),null,16)):v("",!0),e.menuHasChildren(e.item)&&e.getShowMenu?(h(),b(y,{class:N([e.theme]),key:`submenu-${e.item.path}`,popupClassName:"app-top-menu-popup"},{title:H(()=>[q(m,O(e.$props,{item:e.item}),null,16,["item"])]),default:H(()=>[(h(!0),k(w,null,G(e.item.children||[],d=>(h(),b(l,O({key:d.path},e.$props,{item:d}),null,16,["item"]))),128))]),_:1},8,["class"])):v("",!0)],64)}const ve=B(Be,[["render",Ne]]);function we(e,s,t,a){const{getCollapsed:n,getIsMixSidebar:i}=Q();function p(d){return _(this,null,function*(){if(t.value===$.HORIZONTAL)return;const M=o(i);ye(()=>{const c=ce(s.value);if((c==null?void 0:c.length)===0){e.openKeys=[];return}o(a)?e.openKeys=z(c,d):e.openKeys=me([...e.openKeys,...z(c,d)])},16,!M)})}const m=I(()=>(o(i)?!1:o(n))?e.collapsedOpenKeys:e.openKeys);function l(){e.selectedKeys=[],e.openKeys=[]}function y(d){if(o(t)===$.HORIZONTAL||!o(a)||o(i))e.openKeys=d;else{const M=[];for(const{children:c,path:K}of o(s))c&&c.length>0&&M.push(K);if(o(n))e.collapsedOpenKeys=d;else{const c=d.find(K=>e.openKeys.indexOf(K)===-1);M.indexOf(c)===-1?e.openKeys=d:e.openKeys=c?[c]:[]}}}return{setOpenKeys:p,resetKeys:l,getOpenKeys:m,handleOpenChange:y}}const ze=S({name:"BasicMenu",components:{Menu:P,BasicSubMenuItem:ve},props:be,emits:["menuClick"],setup(e,{emit:s}){const t=V(!1),a=V(""),n=ue({defaultSelectedKeys:[],openKeys:[],selectedKeys:[],collapsedOpenKeys:[]}),{prefixCls:i}=R("basic-menu"),{items:p,mode:m,accordion:l}=j(e),{getCollapsed:y,getTopMenuAlign:d,getSplit:M}=Q(),{currentRoute:c}=re(),{handleOpenChange:K,setOpenKeys:A,getOpenKeys:X}=we(n,p,m,l),Y=I(()=>{const{type:r,mode:u}=e;return r===J.TOP_MENU&&u===$.HORIZONTAL||e.isHorizontal&&o(M)}),x=I(()=>{const r=e.isHorizontal&&o(M)?"start":o(d);return[i,`justify-${r}`,{[`${i}__second`]:!e.isHorizontal&&o(M),[`${i}__sidebar-hor`]:o(Y)}]}),ee=I(()=>{const r=e.mode===$.INLINE,u={};return r&&(u.inlineCollapsed=e.mixSider?!1:o(y)),u});Me(r=>{var u;r.name!==Ce&&(E(r),a.value=(u=r.meta)==null?void 0:u.currentActiveMenu,o(a)&&(n.selectedKeys=[o(a)],A(o(a))))}),!e.mixSider&&pe(()=>e.items,()=>{E()});function ne(T){return _(this,arguments,function*({item:r,key:u}){const{beforeClickFn:g}=e;g&&ge(g)&&!(yield g(u))||(s("menuClick",u,r),t.value=!0,n.selectedKeys=[u])})}function E(r){return _(this,null,function*(){var T;if(o(t)){t.value=!1;return}const u=((T=(r||o(c)).meta)==null?void 0:T.currentActiveMenu)||(r||o(c)).path;if(A(u),!o(a))if(e.isHorizontal&&o(M)){const g=yield Ie(u);n.selectedKeys=[g]}else{const g=yield z(e.items,u);n.selectedKeys=g}})}return L({handleMenuClick:ne,getInlineCollapseOptions:ee,getMenuClass:x,handleOpenChange:K,getOpenKeys:X},j(n))}});function Pe(e,s,t,a,n,i){const p=C("BasicSubMenuItem"),m=C("Menu");return h(),b(m,O({selectedKeys:e.selectedKeys,defaultSelectedKeys:e.defaultSelectedKeys,mode:e.mode,openKeys:e.getOpenKeys,inlineIndent:e.inlineIndent,theme:e.theme,onOpenChange:e.handleOpenChange,class:e.getMenuClass,onClick:e.handleMenuClick,subMenuOpenDelay:.2},e.getInlineCollapseOptions),{default:H(()=>[(h(!0),k(w,null,G(e.items,l=>(h(),b(p,{key:l.path,item:l,theme:e.theme,isHorizontal:e.isHorizontal},null,8,["item","theme","isHorizontal"]))),128))]),_:1},16,["selectedKeys","defaultSelectedKeys","mode","openKeys","inlineIndent","theme","onOpenChange","class","onClick"])}const De=B(ze,[["render",Pe]]);export{De as B};
