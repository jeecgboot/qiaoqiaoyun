var T=Object.defineProperty,q=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var W=(t,e,i)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,O=(t,e)=>{for(var i in e||(e={}))H.call(e,i)&&W(t,i,e[i]);if(L)for(var i of L(e))j.call(e,i)&&W(t,i,e[i]);return t},B=(t,e)=>q(t,z(e));import{f as g,r as A,e as E,w as U,I as x,H as M,a3 as J,a4 as K,a5 as s,V as f,a6 as y,a7 as w,k as u,ai as h,F as P,am as Q,af as X,E as v,ak as Y,W as Z}from"./vue-vendor-24c7dc61.js";import $ from"./CalendarFieldSelect-832a62ad.js";import ee from"./CheckboxButton-dce03fb6.js";import{l as ae}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./type.definition-4eb605ee.js";import"./vxe-table-vendor-8813019a.js";const te={name:"Rilishezhi",components:{CalendarFieldSelect:$,CheckboxButton:ee},props:{columnList:{type:Array,default:()=>[]},info:{type:[Object,String],required:!1}},emits:["save"],setup(t,{emit:e}){const i=g([]),n=g(),S=g([]),r=g([]),d=A({calendarDefault:"dayGridMonth",firstDay:1,weekStatus:!1,lunarStatus:!1,hourStatus:!1,calendarAll:!1,titleField:""});let C=["0","1","2","3","4","5","6"];const k=E({get(){let a=r.value;return C.filter(o=>a.indexOf(o)<0)},set(a){let c=C.filter(o=>a.indexOf(o)<0);r.value=c}}),m=[{value:"1",label:"周一"},{value:"2",label:"周二"},{value:"3",label:"周三"},{value:"4",label:"周四"},{value:"5",label:"周五"},{value:"6",label:"周六"},{value:"0",label:"周日"}];U(()=>t.info,a=>{if(a&&a.calendarColumnList){let c=a.calendarColumnList.map(o=>({beginDateField:o.beginDateField,endDateField:o.endDateField,tag:o.tag,seq:o.seq,type:o.type}));S.value=c,Object.keys(d).map(o=>{d[o]=a[o]}),a.weekDayList?r.value=x(a.weekDayList):r.value=[]}},{deep:!0,immediate:!0});function D(a){e("save",{calendarColumnList:a})}function _(){let a=d.calendarDefault;e("save",{calendarDefault:a})}function b(){let a=d.firstDay;e("save",{firstDay:a})}function l(a){a.target.checked==!0&&(r.value=["0","6"]),a.target.checked==!1&&(r.value=[]);let c=d.weekStatus;e("save",{weekStatus:c,weekDayList:r.value})}function R(){let a=d.lunarStatus;e("save",{lunarStatus:a})}function I(){let a=d.hourStatus;e("save",{hourStatus:a})}function V(){let a=x(r.value);a.length==0&&(d.weekStatus=!1),e("save",{weekStatus:d.weekStatus,weekDayList:a})}function G(){let a=d.titleField;e("save",{titleField:a})}const F=g([]),N=["input","textarea","money","integer","number","phone","email","link-record"];return U(()=>t.columnList,a=>{if(a&&a.length>0){let c=[];for(let o of a)N.indexOf(o.type)>=0&&c.push({value:o.model,label:o.name});F.value=c}},{immediate:!0,deep:!0}),B(O({calendarFieldSelectRef:n,myCalendarColumnList:i,weekDayList:r,weekDayOptions:m},M(d)),{showWeekDay:k,selectedList:S,handleColumnChange:D,handleCalendarDefaultChange:_,handleFirstDayChange:b,handleChangeWeekStatus:l,handleLunarStatusChange:R,handleHourStatusChange:I,handleTitleFieldChange:G,handleChangeWeekDay:V,titleFieldSelections:F})}},p=t=>(J("data-v-4fdf4a93"),t=t(),K(),t),le={class:"inner-content"},ne=p(()=>s("div",{class:"title"},"日历设置",-1)),oe={class:"config-detail"},se=p(()=>s("div",{class:"label"},"日期",-1)),ie={class:"config-item"},de=p(()=>s("div",{class:"label"},"标题字段",-1)),ue={class:"config-item"},re=p(()=>s("div",{class:"label"},"默认视图",-1)),ce={class:"config-item"},he=p(()=>s("div",{class:"label"},"每周的第一天",-1)),fe={class:"config-item"},ve=p(()=>s("div",{class:"label"},"设置",-1)),pe={class:"config-item"},me={key:0},_e={style:{"margin-top":"15px"}},ge={style:{"margin-top":"15px"}};function Ce(t,e,i,n,S,r){const d=f("CalendarFieldSelect"),C=f("a-select-option"),k=f("a-select"),m=f("a-radio-button"),D=f("a-radio-group"),_=f("a-checkbox"),b=f("CheckboxButton");return y(),w("div",le,[ne,s("div",oe,[s("div",null,[se,s("div",ie,[u(d,{columnList:i.columnList,selectedList:n.selectedList,inner:"",onChange:n.handleColumnChange},null,8,["columnList","selectedList","onChange"])]),de,s("div",ue,[u(k,{style:{width:"280px"},placeholder:"请选择标题字段",value:t.titleField,"onUpdate:value":e[0]||(e[0]=l=>t.titleField=l),onChange:n.handleTitleFieldChange},{default:h(()=>[(y(!0),w(P,null,Q(n.titleFieldSelections,l=>(y(),X(C,{value:l.value},{default:h(()=>[v(Y(l.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value","onChange"])]),re,s("div",ce,[u(D,{value:t.calendarDefault,"onUpdate:value":e[1]||(e[1]=l=>t.calendarDefault=l),"button-style":"solid",onChange:n.handleCalendarDefaultChange},{default:h(()=>[u(m,{value:"dayGridMonth"},{default:h(()=>[v("月")]),_:1}),u(m,{value:"timeGridWeek"},{default:h(()=>[v("周")]),_:1}),u(m,{value:"timeGridDay"},{default:h(()=>[v("日")]),_:1})]),_:1},8,["value","onChange"])]),he,s("div",fe,[u(k,{value:t.firstDay,"onUpdate:value":e[2]||(e[2]=l=>t.firstDay=l),style:{width:"280px"},options:n.weekDayOptions,onChange:n.handleFirstDayChange},null,8,["value","options","onChange"])]),ve,s("div",pe,[u(_,{checked:t.weekStatus,"onUpdate:checked":e[3]||(e[3]=l=>t.weekStatus=l),onChange:n.handleChangeWeekStatus},{default:h(()=>[v("只显示工作日")]),_:1},8,["checked","onChange"]),t.weekStatus?(y(),w("div",me,[u(b,{value:n.showWeekDay,"onUpdate:value":e[4]||(e[4]=l=>n.showWeekDay=l),options:n.weekDayOptions,onSelect:n.handleChangeWeekDay},null,8,["value","options","onSelect"])])):Z("",!0),s("div",_e,[u(_,{checked:t.lunarStatus,"onUpdate:checked":e[5]||(e[5]=l=>t.lunarStatus=l),onChange:n.handleLunarStatusChange},{default:h(()=>[v("显示农历")]),_:1},8,["checked","onChange"])]),s("div",ge,[u(_,{checked:t.hourStatus,"onUpdate:checked":e[6]||(e[6]=l=>t.hourStatus=l),onChange:n.handleHourStatusChange},{default:h(()=>[v("24小时制")]),_:1},8,["checked","onChange"])])])])])])}const We=ae(te,[["render",Ce],["__scopeId","data-v-4fdf4a93"]]);export{We as default};
