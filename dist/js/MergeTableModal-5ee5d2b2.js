var u=(c,n,r)=>new Promise((o,p)=>{var d=t=>{try{i(r.next(t))}catch(a){p(a)}},m=t=>{try{i(r.throw(t))}catch(a){p(a)}},i=t=>t.done?o(t.value):Promise.resolve(t.value).then(d,m);i((r=r.apply(c,n)).next())});import{B as A}from"./index-1c3affea.js";import{l as C,d as T}from"./aggregation.api-c441389c.js";import{_ as S,s as B}from"./AggregationTableAddModal-0bbaa523.js";import F from"./MergeTableCardList-bd7c3927.js";import E from"./AggregationTableHandleModal-87af6db2.js";import{f as k,e as w,V as l,a6 as y,a7 as R,F as x,k as s,ai as M,E as D}from"./vue-vendor-24c7dc61.js";import{e as f,j as v,l as H}from"./index-831af9dd.js";import"./BasicModal-58413bab.js";import"./antd-vue-vendor-0d72f01e.js";import"./useWindowSizeFn-8f085f6f.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./vxe-table-vendor-8813019a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./DataSourcesModal-9f42b669.js";import"./page.api-9d0cf9bc.js";import"./page.data-58dba86c.js";import"./DBFormTable-bda07bb7.js";import"./ValidateModal-f0e777cd.js";import"./JCalclateInput-0d22db8c.js";import"./searchcursor-9651c8d5.js";import"./CalculateModal-3ab8a410.js";import"./MergeTableFieldConfig-f5de5ff2.js";import"./RenameModal-eec148b3.js";import"./vuedraggable-vendor-6ef4bc68.js";import"./DynamicTable-6790729c.js";import"./FilterConditionConfig-8b3b3b7c.js";import"./ComponentIcon-f1bbb90f.js";import"./AggregationAdvancedFilter-a52ae827.js";import"./FormSchemaFactory-ec827fa7.js";import"./index-bff0b654.js";import"./type.definition-4eb605ee.js";import"./LinkRecordSelect-385d0eae.js";import"./SelectItem-04dd2229.js";import"./lowAppUtils-56892d30.js";import"./auto.desform.api-839115ed.js";import"./desformUtils-c7daaa89.js";import"./LinkRecordTags-cf4c2463.js";import"./lowAppAuth-3d637b7d.js";import"./useFuncSwitch-b7681246.js";import"./DictColors-73058d23.js";import"./TableImage-14ca1f5d.js";import"./SubTableTag-81763fd6.js";import"./CardCellFile-92b3c8c8.js";import"./SuperQueryValComponent-97f284a9.js";const I={name:"MergeTableModal",components:{AggregationTableHandleModal:E,AggregationTableAddModal:S,MergeTableCardList:F,BasicModal:A},props:{lowAppId:{type:String}},emits:["success","register"],setup(c,{}){let n=()=>{},r=k("blue");const[o,{openModal:p}]=f(),[d,{openModal:m}]=f(),[i]=v(e=>u(this,null,function*(){r.value=e.headerColor})),t=w(()=>r.value);function a(e){n=e}function g(){p(!0)}function h(e){m(!0,{isUpdate:!0,record:e})}function _(e){return u(this,null,function*(){yield T({id:e},n)})}function b(e){e&&m(!0,{isUpdate:!0,record:e}),n()}return{list:C,searchFormSchema:B,registerModal:i,registerAddModal:o,registerTableModal:d,getMethod:a,handleCreate:g,handleEdit:h,handleDelete:_,handleSuccess:b,bgColor:t}}};function L(c,n,r,o,p,d){const m=l("a-button"),i=l("MergeTableCardList"),t=l("BasicModal"),a=l("AggregationTableHandleModal"),g=l("AggregationTableAddModal");return y(),R(x,null,[s(t,{onRegister:o.registerModal,title:"聚合表管理",defaultFullscreen:!0,canFullscreen:!1,showCancelBtn:!1,showOkBtn:!1,footer:null,destroyOnClose:""},{default:M(()=>[s(i,{bgColor:o.bgColor,searchFormSchema:o.searchFormSchema,api:o.list,onDelete:o.handleDelete,onEdit:o.handleEdit,onGetMethod:o.getMethod},{header:M(()=>[s(m,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:o.handleCreate},{default:M(()=>[D("新增聚合表")]),_:1},8,["onClick"])]),_:1},8,["bgColor","searchFormSchema","api","onDelete","onEdit","onGetMethod"])]),_:1},8,["onRegister"]),s(a,{onRegister:o.registerTableModal,onSuccess:o.handleSuccess},null,8,["onRegister","onSuccess"]),s(g,{onRegister:o.registerAddModal,onSuccess:o.handleSuccess},null,8,["onRegister","onSuccess"])],64)}const st=H(I,[["render",L]]);export{st as default};
