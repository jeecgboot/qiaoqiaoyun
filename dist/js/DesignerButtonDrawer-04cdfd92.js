var h=Object.defineProperty;var w=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var C=(r,o,t)=>o in r?h(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t,c=(r,o)=>{for(var t in o||(o={}))k.call(o,t)&&C(r,t,o[t]);if(w)for(var t of w(o))x.call(o,t)&&C(r,t,o[t]);return r};var g=(r,o,t)=>new Promise((s,e)=>{var a=i=>{try{p(t.next(i))}catch(n){e(n)}},u=i=>{try{p(t.throw(i))}catch(n){e(n)}},p=i=>i.done?s(i.value):Promise.resolve(i.value).then(a,u);p((t=t.apply(r,o)).next())});import{d as B,H as F,f as l,p as L,w as N,a6 as q,af as R,u as d}from"./vue-vendor-24c7dc61.js";import v from"./ZdyanDrawer-58ee121b.js";import{a as O,b as U}from"./LinkRecordSelect-385d0eae.js";import"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./ButtonColorSelector-58fbd93b.js";import"./ButtonConditions-9a9a88d5.js";import"./type.definition-4eb605ee.js";import"./useCustomButton-fa741dda.js";import"./lowAppAuth-3d637b7d.js";import"./lowAppUtils-56892d30.js";import"./FilterFiledListNew-bbda127c.js";import"./ComponentIcon-f1bbb90f.js";import"./SuperQueryValComponent-97f284a9.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./index-1c3affea.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./helper-22dafba0.js";import"./ButtonConfirmText-527dd2f0.js";import"./FilterFiledList-8a929f88.js";import"./ButtonFormConfig-7880f3ed.js";import"./FormFieldSelect-9cf3f019.js";import"./SelectItem-04dd2229.js";import"./auto.desform.api-839115ed.js";import"./desformUtils-c7daaa89.js";import"./LinkRecordTags-cf4c2463.js";import"./FormSchemaFactory-ec827fa7.js";import"./index-bff0b654.js";import"./useFuncSwitch-b7681246.js";import"./DictColors-73058d23.js";import"./TableImage-14ca1f5d.js";import"./SubTableTag-81763fd6.js";import"./CardCellFile-92b3c8c8.js";const Wt=B({__name:"DesignerButtonDrawer",props:{desformCode:{type:String,required:!0},desformName:{type:String,required:!0},designForm:{type:Object,required:!0}},emits:["command"],setup(r,{expose:o,emit:t}){const s=r,{desformCode:e,desformName:a}=F(s),u=l(),{allColumns:p,loadColumnsInfo:i}=O({desformCode:e,translData:l({}),remoteOptionsMap:l({}),desformName:a,notBaseList:1},{},{}),{columnList:n,initColumnList:y}=U();L("globalColumnList",n),N(()=>s.designForm,m=>{m&&y(m)},{immediate:!0});const D={showStatus:"always",clickThen:"execute",flowStatus:!0,color:"rgb(33, 150, 243)",allView:!0};function f(m){return g(this,null,function*(){yield i(e.value),u.value.show(m),t("command",{type:"opened"})})}function _(){f({title:"添加按钮",button:c({},D),isUpdate:!1})}function b(m){f({title:"编辑按钮",button:c({},m),isUpdate:!0})}function S(){t("command",{type:"success"})}return o({doAdd:_,doEdit:b}),(m,j)=>(q(),R(v,{ref_key:"innerDrawerRef",ref:u,code:d(e),designFormName:d(a),allColumns:d(p),mask:"",contentWrapperStyle:{top:"0px"},onSuccess:S},null,8,["code","designFormName","allColumns"]))}});export{Wt as default};
