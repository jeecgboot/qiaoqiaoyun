import{f as u,w as h}from"./vue-vendor-24c7dc61.js";import{s as p}from"./type.definition-4eb605ee.js";function x(s,f){const i=u([]);let a=[];f&&f.type&&(f.type instanceof Array?a=[...f.type]:a=f.type.split(",")),h(()=>s.columnList,l=>{if(!l||l.length==0)i.value=[];else{let t=[];for(let e of l)if(a.length>0){if(a.indexOf(e.type)>=0){let r=!0;(f==null?void 0:f.multi)===!1&&(e.multi===!0||e.multiple===!0)&&(r=!1),(f==null?void 0:f.remote)===!1&&e.remote&&(r=!1),r&&t.push({label:e.name,value:e.model,type:e.type,dictCode:e.dictCode,dictTable:e.dictTable,dictText:e.dictText,staticOptions:e.options})}}else t.push({label:e.name,value:e.model,type:e.type});for(let e of p)a.length>0?a.indexOf(e.type)>=0&&t.push({label:e.name,value:e.field,type:e.type}):t.push({label:e.name,value:e.field,type:e.type});i.value=t}},{immediate:!0});const n=(l,t)=>t.value.toLowerCase().indexOf(l.toLowerCase())>=0||t.label.indexOf(l)>=0,c=l=>{const t=s.columnList;if(t&&t.length>0){let e=t.filter(r=>r.key==l||r.model==l);if(e&&e.length>0)return e[0]}return!1},d=u(!1),m=u("");function y(l){let t=m.value;return t?l?l.label.indexOf(t)>=0:!1:!0}return{selectFieldList:i,getColumnInfo:c,myFilter:n,filterValue:m,isFilterItem:y,showPop:d}}export{x as u};
