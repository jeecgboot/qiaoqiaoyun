import{Z as A,R as F,H as w,h as L,_ as O,o as V,l as z}from"./index-831af9dd.js";import{d as H,e as c,a5 as v,V as i,a6 as s,a7 as g,F as T,af as f,ag as E,ai as t,a8 as b,ak as I,k as n,E as r,z as $,W as m,q as R,A as j,am as q}from"./vue-vendor-24c7dc61.js";import{S as W,M as Z}from"./SubMenuItem-cfcb4516.js";import{u as G,a as J}from"./index-5f7e4a11.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./lowAppStore-499fb8f9.js";import"./index-a964241b.js";import"./low.app.api-97fc250a.js";const K=H({name:"SimpleSubMenu",components:{SubMenu:W,MenuItem:Z,SimpleMenuTag:A(()=>O(()=>import("./SimpleMenuTag-e41510fe.js"),["js/SimpleMenuTag-e41510fe.js","js/vue-vendor-24c7dc61.js","js/index-831af9dd.js","js/antd-vue-vendor-0d72f01e.js","js/vxe-table-vendor-8813019a.js","assets/index-3d0fbd8d.css"])),Icon:F},props:{item:{type:Object,default:()=>({})},parent:w.bool,collapsedShowTitle:w.bool,collapse:w.bool,theme:w.oneOf(["dark","light"])},setup(e){const{t:l}=V(),{devMode:B}=G(),{prefixCls:k}=L("simple-menu"),D=c(()=>{var o,d;return!((d=(o=e.item)==null?void 0:o.meta)!=null&&d.hideMenu)}),P=c(()=>{var o;return(o=e.item)==null?void 0:o.icon}),h=c(()=>{var o;return(o=e.item)==null?void 0:o.openIcon}),S=c(()=>{var o;return l((o=e.item)==null?void 0:o.name)}),y=c(()=>!e.collapse||!e.parent),a=c(()=>!!e.collapse&&!!e.parent),p=c(()=>[{[`${k}__parent`]:e.parent,[`${k}__children`]:!e.parent}]);function C(o){var d;return!((d=o.meta)!=null&&d.hideChildrenInMenu)&&Reflect.has(o,"children")&&!!o.children&&o.children.length>=0}const{onSettingMenuClick:M}=J();return{prefixCls:k,devMode:B,menuHasChildren:C,getShowMenu:D,getIcon:P,getOpenIcon:h,getI18nName:S,getShowSubTitle:y,getLevelClass:p,getIsCollapseParent:a,onSettingMenuClick:M}}}),Q={key:1,class:"mt-1 collapse-title"},U={key:0,class:"low-app-menu-setting"},X=v("span",{style:{color:"red"}},"删除",-1),Y={key:0},x={key:1,class:"mt-2 collapse-title"},ee={key:2,class:"low-app-menu-setting"},ne=v("span",{style:{color:"red"}},"删除",-1);function te(e,l,B,k,D,P){const h=i("Icon"),S=i("SimpleMenuTag"),y=i("a-icon"),a=i("a-menu-item"),p=i("a-menu-divider"),C=i("a-menu"),M=i("a-dropdown"),o=i("MenuItem"),d=i("SimpleSubMenu",!0),N=i("SubMenu");return s(),g(T,null,[!e.menuHasChildren(e.item)&&e.getShowMenu?(s(),f(o,E({key:0,name:e.item.path},e.$props,{class:e.getLevelClass}),{title:t(()=>[v("span",{class:b(["ml-2",`${e.prefixCls}-sub-title`])},I(e.getI18nName),3),n(S,{item:e.item,collapseParent:e.getIsCollapseParent},null,8,["item","collapseParent"]),!e.collapse&&e.devMode&&e.item.showSetting?(s(),g("div",U,[n(M,{trigger:["click"]},{overlay:t(()=>[n(C,{onClick:l[1]||(l[1]=u=>e.onSettingMenuClick(u,e.item))},{default:t(()=>[n(a,{key:"group-rename"},{default:t(()=>[r("重命名")]),_:1}),n(p),n(a,{key:"move-group"},{default:t(()=>[r("移动到...")]),_:1}),n(a,{key:"order-to-up"},{default:t(()=>[r("向上移")]),_:1}),n(a,{key:"order-to-down"},{default:t(()=>[r("向下移")]),_:1}),n(p),n(a,{key:"find-source"},{default:t(()=>[r("查看原数据")]),_:1}),n(p),n(a,{key:"delete"},{default:t(()=>[X]),_:1})]),_:1})]),default:t(()=>[n(y,{type:"setting",onClick:l[0]||(l[0]=$(u=>u.preventDefault(),["stop"]))})]),_:1})])):m("",!0)]),default:t(()=>[e.getIcon?(s(),f(h,{key:0,icon:e.getIcon,size:16},null,8,["icon"])):m("",!0),e.collapsedShowTitle&&e.getIsCollapseParent?(s(),g("div",Q,I(e.getI18nName),1)):m("",!0)]),_:1},16,["name","class"])):m("",!0),e.menuHasChildren(e.item)&&e.getShowMenu?(s(),f(N,{key:1,name:e.item.path,class:b([e.getLevelClass,e.theme]),collapsedShowTitle:e.collapsedShowTitle},{title:t(({getIsOpened:u})=>[e.getIcon?(s(),g("span",Y,[u&&e.getOpenIcon?(s(),f(h,{key:0,icon:e.getOpenIcon,size:16},null,8,["icon"])):(s(),f(h,{key:1,icon:e.getIcon,size:16},null,8,["icon"]))])):m("",!0),e.collapsedShowTitle&&e.getIsCollapseParent?(s(),g("div",x,I(e.getI18nName),1)):m("",!0),R(v("span",{class:b(["ml-2",`${e.prefixCls}-sub-title`])},I(e.getI18nName),3),[[j,e.getShowSubTitle]]),n(S,{item:e.item,collapseParent:!!e.collapse&&!!e.parent},null,8,["item","collapseParent"]),!e.collapse&&e.devMode&&e.item.showSetting?(s(),g("div",ee,[n(M,{trigger:["click"]},{overlay:t(()=>[n(C,{onClick:l[3]||(l[3]=_=>e.onSettingMenuClick(_,e.item))},{default:t(()=>[n(a,{key:"group-rename"},{default:t(()=>[r("重命名")]),_:1}),n(p),n(a,{key:"order-to-up"},{default:t(()=>[r("向上移")]),_:1}),n(a,{key:"order-to-down"},{default:t(()=>[r("向下移")]),_:1}),n(p),n(a,{key:"delete"},{default:t(()=>[ne]),_:1})]),_:1})]),default:t(()=>[n(y,{type:"setting",onClick:l[2]||(l[2]=$(_=>_.preventDefault(),["stop"]))})]),_:1})])):m("",!0)]),default:t(()=>[(s(!0),g(T,null,q(e.item.children||[],u=>(s(),f(d,E({key:u.path},e.$props,{item:u,parent:!1}),null,16,["item"]))),128))]),_:1},8,["name","class","collapsedShowTitle"])):m("",!0)],64)}const de=z(K,[["render",te]]);export{de as default};
