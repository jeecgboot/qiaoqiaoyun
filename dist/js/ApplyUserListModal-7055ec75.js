var u=(t,i,n)=>new Promise((c,d)=>{var v=o=>{try{l(n.next(o))}catch(a){d(a)}},r=o=>{try{l(n.throw(o))}catch(a){d(a)}},l=o=>o.done?c(o.value):Promise.resolve(o.value).then(v,r);l((n=n.apply(t,i)).next())});import{d as B,f as A,a3 as M,a4 as D,a5 as s,V as f,a6 as _,af as U,ai as m,k as y,a7 as k,F as I,am as w,ak as h,W as g,E as C}from"./vue-vendor-24c7dc61.js";import{B as F}from"./index-1c3affea.js";import{U as L}from"./UserAvatar-1a3df675.js";import{w as E,G as $,H as x}from"./organization.api-98a6e46c.js";import{j as V,l as S}from"./index-831af9dd.js";import"./BasicModal-58413bab.js";import"./antd-vue-vendor-0d72f01e.js";import"./useWindowSizeFn-8f085f6f.js";import"./vxe-table-vendor-8813019a.js";const b=B({name:"ApplyUserListModal",components:{BasicModal:F,UserAvatar:L},emits:["register","pass","cancel"],setup(t,{emit:i}){const n=A([]),c=A(""),[d,{closeModal:v}]=V(a=>u(this,null,function*(){c.value=a.tenantId,yield r()}));function r(){return u(this,null,function*(){let a={tenantId:c.value};const e=yield E(a);n.value=e||[]})}function l(a){return u(this,null,function*(){let e={tenantId:c.value,packId:a.packId,userId:a.id,packName:a.packName,realname:a.realname};yield $(e),yield r(),i("pass")})}function o(a){return u(this,null,function*(){let e={tenantId:c.value,packId:a.packId,userId:a.id};yield x(e),yield r(),i("cancel")})}return{registerModal:d,doPassApply:l,closeModal:v,doDeleteApply:o,userList:n}}});const N=t=>(M("data-v-cc88e1cf"),t=t(),D(),t),P=N(()=>s("div",{class:"user-list-row header"},[s("div",{class:"left"}),s("div",{class:"item"},"人员"),s("div",{class:"item"},"部门"),s("div",{class:"item"},"职位"),s("div",{class:"item"},"申请角色"),s("div",{class:"action"},"操作")],-1)),R={class:"user-list-row body"},T=N(()=>s("div",{class:"left",style:{width:"40px"}},null,-1)),j={class:"item"},G={class:"item nams"},H={class:"item nams"},W={class:"item nams"},q={class:"action"};function z(t,i,n,c,d,v){const r=f("UserAvatar"),l=f("a-button"),o=f("a-list"),a=f("BasicModal");return _(),U(a,{class:"aaa",wrapClassName:"low-app-tenant-auth-user-modal",onRegister:t.registerModal,width:900,title:"申请角色请求",footer:null},{default:m(()=>[y(o,{"data-source":t.userList,pagination:!1},{header:m(()=>[P]),renderItem:m(({item:e})=>[s("div",R,[T,s("div",j,[y(r,{detail:e},null,8,["detail"])]),s("div",G,[e.departNames&&e.departNames.length>0?(_(!0),k(I,{key:0},w(e.departNames,p=>(_(),k("span",null,h(p),1))),256)):g("",!0)]),s("div",H,[e.positionNames&&e.positionNames.length>0?(_(!0),k(I,{key:0},w(e.positionNames,p=>(_(),k("span",null,h(p),1))),256)):g("",!0)]),s("div",W,h(e.packName),1),s("div",q,[y(l,{type:"link",onClick:p=>t.doPassApply(e)},{default:m(()=>[C(" 通过 ")]),_:2},1032,["onClick"]),y(l,{style:{"margin-left":"5px"},type:"link",onClick:p=>t.doDeleteApply(e)},{default:m(()=>[C(" 拒绝 ")]),_:2},1032,["onClick"])])])]),_:1},8,["data-source"])]),_:1},8,["onRegister"])}const ta=S(b,[["render",z],["__scopeId","data-v-cc88e1cf"]]);export{ta as default};
