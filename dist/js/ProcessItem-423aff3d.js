import{d as C,e as b,f as F,w,a5 as o,V as l,a6 as s,a7 as r,F as p,ag as N,k as u,W as h,ak as i,af as S,O as T,am as A,ai as D,E as B}from"./vue-vendor-24c7dc61.js";import{H as c,h as I,e as M,l as E}from"./index-831af9dd.js";import L from"./LowAvatar-f808b87b.js";import{bw as P}from"./antd-vue-vendor-0d72f01e.js";import"./index-1c3affea.js";import $ from"./NotifyMeListModal-d0556f41.js";import"./vxe-table-vendor-8813019a.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./index-621e597c.js";import"./BasicTable-d435f501.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./useListPage-62a041ef.js";import"./useTaskNotify-d72aa8b0.js";const V=C({name:"ProcessItem",components:{LowAvatar:L,NotificationTwoTone:P,NotifyMeListModal:$},emits:["select"],props:{record:Object,userInfo:c.object,title:c.string,current:c.string,selected:c.bool.def(!1),actionType:c.string},setup(e,{emit:n}){const{prefixCls:y}=I("low-app-process-item"),_=b(()=>{const{bpmStatus:t}=e.record||{};return t==="2"||t==="处理中"?"blue":t==="3"||t==="已完成"?"green":t==="5"||t==="已挂起"?"orange":""}),[k,{openModal:v}]=M();function m(t){t.preventDefault(),t.stopPropagation(),v(!0,{procInstId:e.record.procInsId})}function f(t){t.stopPropagation()}const d=F(!1);w(()=>e.selected,t=>{d.value=t});function g(t){n("select",t.target.checked,e.record)}return{prefixCls:y,bpmTagColor:_,registerNotifyModal:k,taskNotify:m,onClickSelection:f,onChangeSelect:g,itemSelected:d}}});const j={class:"user-info"},z={class:"avatar"},O={class:"name"},R={key:0,title:"取回流程",class:"red-tag"},U={key:1,title:"作废流程",class:"red-tag"},H=["title"],W={class:"process-info"},q={key:0,class:"title"},G=o("span",{style:{"background-color":"#9e9e9e","border-radius":"50%",display:"inline-block",height:"5px",width:"5px",margin:"2px 6px"}},null,-1),J={class:"title",style:{"font-weight":"normal","font-size":"14px"}},K={class:"process-detail",style:{"justify-content":"space-around"}},Q={class:"detail-item"},X={class:"label"},Y={class:"value"},Z={class:"update-time",style:{height:"100%",padding:"10px 0",top:"0"}},x={style:{display:"flex","flex-direction":"column","justify-content":"space-around",height:"100%"}},ee=o("span",{style:{"font-size":"12px",color:"#91a1b7"}},"开始时间：",-1),oe=o("span",{style:{"font-size":"12px",color:"#91a1b7"}},"结束时间：",-1),te={class:"status"};function se(e,n,y,_,k,v){const m=l("a-checkbox"),f=l("LowAvatar"),d=l("notification-two-tone"),g=l("a-tag"),t=l("NotifyMeListModal");return s(),r(p,null,[o("div",N({class:[e.prefixCls]},e.$attrs),[o("div",j,[e.actionType=="todo"?(s(),r("div",{key:0,class:"selection",style:{padding:"8px 15px 8px 0"},onClick:n[1]||(n[1]=(...a)=>e.onClickSelection&&e.onClickSelection(...a))},[u(m,{checked:e.itemSelected,"onUpdate:checked":n[0]||(n[0]=a=>e.itemSelected=a),onChange:e.onChangeSelect},null,8,["checked","onChange"])])):h("",!0),o("div",z,[u(f,{src:e.record.userInfo.avatar,size:40},null,8,["src"])]),o("div",O,[e.record.bpmStatus=="callBackProcess"?(s(),r("span",R," 取回流程 ")):e.record.bpmStatus=="invalidProcess"?(s(),r("span",U," 作废流程 ")):(s(),r(p,{key:2},[o("span",{title:e.record.userInfo.nickname||"待签收"},i(e.record.userInfo.nickname||"待签收"),9,H),e.record.taskUrge?(s(),S(d,{key:0,style:{padding:"10px"},title:"催办提醒",twoToneColor:"#eb2f96",onClick:e.taskNotify},null,8,["onClick"])):h("",!0)],64))])]),o("div",W,[T(e.$slots,"processInfo",{record:e.record},()=>[e.record.lowAppName?(s(),r("div",q,[o("span",null,i(e.record.lowAppName),1),G,o("span",null,i(e.record.lowFormName),1)])):h("",!0),o("div",J,i(e.record.title),1)])]),o("div",K,[(s(!0),r(p,null,A(e.record.detailList,a=>(s(),r("div",Q,[o("span",X,i(a.label)+"：",1),o("span",Y,i(a.value),1)]))),256))]),o("div",Z,[o("div",x,[e.record.endTime?(s(),r(p,{key:0},[o("div",null,[ee,o("span",null,i(e.record.updateTime),1)]),o("div",null,[oe,o("span",null,i(e.record.updateTime),1)])],64)):(s(),r(p,{key:1},[o("span",null,i(e.record.updateTime),1),o("div",te,[u(g,{color:e.bpmTagColor},{default:D(()=>[B(i(e.record.bpmStatusText),1)]),_:1},8,["color"])])],64))])])],16),u(t,{onRegister:e.registerNotifyModal},null,8,["onRegister"])],64)}const eo=E(V,[["render",se]]);export{eo as default};
