var U=Object.defineProperty,E=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var I=(t,o,e)=>o in t?U(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))L.call(o,e)&&I(t,e,o[e]);if(C)for(var e of C(o))P.call(o,e)&&I(t,e,o[e]);return t},T=(t,o)=>E(t,H(o));var k=(t,o,e)=>new Promise((d,_)=>{var h=a=>{try{l(e.next(a))}catch(p){_(p)}},f=a=>{try{l(e.throw(a))}catch(p){_(p)}},l=a=>a.done?d(a.value):Promise.resolve(a.value).then(h,f);l((e=e.apply(t,o)).next())});import{d as q,f as z,c as D,r as W,V as m,a6 as x,a7 as G,a5 as i,k as s,ai as r,u as c,af as J,E as S,W as X,a3 as Y,a4 as Z,I as $}from"./vue-vendor-24c7dc61.js";import"./index-1c3affea.js";import"./index-621e597c.js";import{q as tt}from"./organization.data-23f4609c.js";import{r as ot,t as et}from"./organization.api-98a6e46c.js";import{j as nt,a7 as at,a as rt,ap as st,l as it}from"./index-831af9dd.js";import{u as ct}from"./useListPage-62a041ef.js";import{M as mt}from"./antd-vue-vendor-0d72f01e.js";import{h as lt}from"./header-55b09394.js";import{T as pt}from"./componentMap-c857637c.js";import ut from"./BasicTable-d435f501.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./renderUtils-7ad8f436.js";import"./index-b845562c.js";import"./vxe-table-vendor-8813019a.js";import"./useMethods-f689b480.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";const R=t=>(Y("data-v-d85f8df7"),t=t(),Z(),t),dt={class:"main-container"},_t={class:"quit"},ft={class:"quit-content"},gt={class:"quit-list"},vt=R(()=>i("div",{class:"quit-header"},[i("div",{class:"flex-column color-gray"},[i("span",null,"已离职用户，不能通过重新邀请加入网络"),i("span",null,"如需要重新加入，可以在这里恢复权限")])],-1)),ht=R(()=>i("div",null,null,-1)),wt=q({name:"organ-quit-form"}),bt=q(T(y({},wt),{emits:["success","register"],setup(t,{emit:o}){const{createConfirm:e}=rt(),d=z([]),[_]=nt(()=>{d.value=[]}),{prefixCls:h,tableContext:f}=ct({tableProps:{api:ot,columns:tt,rowKey:"id",canResize:!1,useSearchForm:!1,actionColumn:{width:120},pagination:!1}}),[l,{reload:a},{rowSelection:p,selectedRowKeys:w,selectedRows:V}]=f,Ct=D("myTenantInfo",W({})),B=at(),It=c(B.getUserInfo.username);function b(n){return k(this,null,function*(){yield et({userIds:n.id,usernames:n.username},a),o("success")})}function M(){mt.confirm({title:"取消离职",content:"取消离职交接人也会清空",okText:"确认",cancelText:"取消",onOk:()=>{let n=V.value,g=[];for(const u of n)g.push(u.username);b({id:$(c(w)).join(","),username:g.join(",")})}})}function Q(n){return[{label:"取消离职",icon:"ant-design:redo-outlined",popConfirm:{title:"是否取消离职,取消离职交接人也会清空",confirm:b.bind(null,n)}}]}function j(n){return n?st(n):lt}return(n,g)=>{const u=m("Icon"),A=m("a-menu-item"),F=m("a-menu"),N=m("a-button"),K=m("a-dropdown"),O=m("a-avatar");return x(),G("div",dt,[i("div",_t,[i("div",ft,[i("div",gt,[vt,s(c(ut),{onRegister:c(l),rowSelection:c(p)},{tableTitle:r(()=>[c(w).length>0?(x(),J(K,{key:0},{overlay:r(()=>[s(F,null,{default:r(()=>[s(A,{key:"1",onClick:M},{default:r(()=>[s(u,{icon:"ant-design:redo-outlined"}),S(" 批量恢复 ")]),_:1})]),_:1})]),default:r(()=>[s(N,null,{default:r(()=>[S("批量操作 "),s(u,{icon:"ant-design:down-outlined"})]),_:1})]),_:1})):X("",!0)]),tableTop:r(()=>[ht]),action:r(({record:v})=>[s(c(pt),{actions:Q(v)},null,8,["actions"])]),avatar:r(({text:v})=>[s(O,{src:j(v)},null,8,["src"])]),_:1},8,["onRegister","rowSelection"])])])])])}}}));const Io=it(bt,[["__scopeId","data-v-d85f8df7"]]);export{Io as default};
