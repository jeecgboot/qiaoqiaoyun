var L=Object.defineProperty,U=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var $=(e,a,n)=>a in e?L(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,g=(e,a)=>{for(var n in a||(a={}))P.call(a,n)&&$(e,n,a[n]);if(V)for(var n of V(a))W.call(a,n)&&$(e,n,a[n]);return e},D=(e,a)=>U(e,I(a));var A=(e,a,n)=>new Promise((m,d)=>{var i=o=>{try{f(n.next(o))}catch(_){d(_)}},p=o=>{try{f(n.throw(o))}catch(_){d(_)}},f=o=>o.done?m(o.value):Promise.resolve(o.value).then(i,p);f((n=n.apply(e,a)).next())});import{d as G,f as B,r as Q,a2 as Z,H,e as j,w as O,u as M,a5 as q,V as s,a6 as h,a7 as F,F as R,k as l,a8 as J,ai as c,af as K,W as X,ag as Y,am as x}from"./vue-vendor-24c7dc61.js";import{H as S,h as ee,bP as ae,bQ as ne,bR as te,bS as oe,aZ as se,z as le,l as ie}from"./index-831af9dd.js";import{M as re,u as ue}from"./useOpenKeys-0758de45.js";import ce from"./SimpleSubMenu-ff390f8a.js";import{u as pe,a as me}from"./index-5f7e4a11.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./SubMenuItem-cfcb4516.js";import"./lowAppStore-499fb8f9.js";import"./index-a964241b.js";import"./low.app.api-97fc250a.js";const de=G({name:"SimpleMenu",components:{Menu:re,SimpleSubMenu:ce},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},collapse:S.bool,mixSider:S.bool,theme:S.string,accordion:S.bool.def(!0),collapsedShowTitle:S.bool,beforeClickFn:{type:Function},isSplitMenu:S.bool},emits:["menuClick"],setup(e,{attrs:a,emit:n}){const m=B(""),d=B(!1),i=Q({activeName:"",openNames:[],activeSubMenuNames:[]}),{currentRoute:p}=Z(),{prefixCls:f}=ee("simple-menu"),{items:o,accordion:_,mixSider:y,collapse:b}=H(e),{setOpenKeys:v,getOpenKeys:C}=ue(i,o,_,y,b),N=j(()=>g(g({},a),e));O(()=>e.collapse,t=>{t?i.openNames=[]:v(p.value.path)},{immediate:!0}),O(()=>e.items,()=>{e.isSplitMenu&&v(p.value.path)},{flush:"post"}),ae(t=>{var u;t.name!==ne&&(m.value=(u=t.meta)==null?void 0:u.currentActiveMenu,w(t),M(m)&&(i.activeName=M(m),v(M(m))))});function w(t){return A(this,null,function*(){if(M(d)){d.value=!1;return}const u=(t||M(p)).path;i.activeName=u,v(u)})}function k(t){return A(this,null,function*(){if(te(t)){let E=t.replace(oe,"#");se(E);return}const{beforeClickFn:u}=e;u&&le(u)&&!(yield u(t))||(n("menuClick",t),d.value=!0,v(t),i.activeName=t)})}const{devMode:r}=pe(),T=B(""),{onSettingMenuClick:z}=me();return D(g({prefixCls:f,getBindValues:N,handleSelect:k,getOpenKeys:C},H(i)),{devMode:r,searchKeyword:T,onSettingMenuClick:z})}});const fe=q("span",null,"新建分组",-1);function _e(e,a,n,m,d,i){const p=s("a-icon"),f=s("a-input"),o=s("a-col"),_=s("a-button"),y=s("a-menu-item"),b=s("a-menu"),v=s("a-dropdown"),C=s("a-row"),N=s("a-divider"),w=s("SimpleSubMenu"),k=s("Menu");return h(),F(R,null,[l(C,{class:J([`${e.prefixCls}-search-box`]),"data-theme":e.theme},{default:c(()=>[l(o,{span:e.collapse?0:e.devMode?20:24},{default:c(()=>[l(f,{class:"search-input",value:e.searchKeyword,"onUpdate:value":a[0]||(a[0]=r=>e.searchKeyword=r),placeholder:"搜索",allowClear:""},{prefix:c(()=>[l(p,{type:"search"})]),_:1},8,["value"])]),_:1},8,["span"]),e.devMode?(h(),K(o,{key:0,span:4,style:{"text-align":"right","line-height":"34px"}},{default:c(()=>[l(v,{trigger:["hover"]},{overlay:c(()=>[l(b,{onClick:a[1]||(a[1]=r=>e.onSettingMenuClick(r,null))},{default:c(()=>[l(y,{key:"create-group"},{default:c(()=>[l(p,{type:"folder-add"}),fe]),_:1})]),_:1})]),default:c(()=>[l(_,{type:"primary",shape:"circle",preIcon:"ant-design:plus",size:"small",title:"添加"})]),_:1})]),_:1})):X("",!0)]),_:1},8,["class","data-theme"]),l(k,Y(e.getBindValues,{activeName:e.activeName,openNames:e.getOpenKeys,class:[e.prefixCls,"low-app-menu"],activeSubMenuNames:e.activeSubMenuNames,onSelect:e.handleSelect}),{default:c(()=>[(h(!0),F(R,null,x(e.items,r=>(h(),F(R,{key:r.path},[r.type==="divider"?(h(),K(N,{key:0,style:{margin:"6px 0","border-color":"#444"}})):(h(),K(w,{key:1,item:r,parent:!0,collapse:e.collapse},null,8,["item","collapse"]))],64))),128))]),_:1},16,["activeName","openNames","class","activeSubMenuNames","onSelect"])],64)}const Be=ie(de,[["render",_e]]);export{Be as default};
