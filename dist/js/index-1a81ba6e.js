var q=Object.defineProperty,M=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var v=(r,e,t)=>e in r?q(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,T=(r,e)=>{for(var t in e||(e={}))H.call(e,t)&&v(r,t,e[t]);if(w)for(var t of w(e))K.call(e,t)&&v(r,t,e[t]);return r},x=(r,e)=>M(r,X(e));var C=(r,e,t)=>new Promise((_,u)=>{var f=i=>{try{c(t.next(i))}catch(s){u(s)}},y=i=>{try{c(t.throw(i))}catch(s){u(s)}},c=i=>i.done?_(i.value):Promise.resolve(i.value).then(f,y);c((t=t.apply(r,e)).next())});import{d as I,f as L,V as l,a6 as S,a7 as W,k as o,ai as n,E as p,u as m,af as z,W as G,F as J}from"./vue-vendor-24c7dc61.js";import"./index-621e597c.js";import{P as O,q as Q,c as Y,s as Z,g as $,a as ee,d as te,b as oe}from"./PlanModal-1b827540.js";import{u as ne}from"./useListPage-62a041ef.js";import{T as ae}from"./componentMap-c857637c.js";import re from"./BasicTable-d435f501.js";import"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./CommentPanel-4027e3d7.js";import"./UserSelectModal-d78c1490.js";import"./index-1c3affea.js";import"./useComment-c2ce47e3.js";import"./index-d508f1f4.js";import"./index-4b5608cc.js";import"./FileList.api-9749c044.js";import"./JUpload-76e119c7.js";import"./useMethods-f689b480.js";import"./useFormItem-86503382.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./JCheckbox-0b89d32a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";const ie=I({name:"plan-list"}),lt=I(x(T({},ie),{setup(r){const e=L(),{prefixCls:t,tableContext:_,onImportXls:u,onExportXls:f}=ne({designScope:"plan-template",tableProps:{title:"日常计划列表",api:Q,columns:Y,formConfig:{schemas:Z},handleSearchInfoFn(a){return a.remindType&&a.remindType instanceof Array&&a.remindType.length>0&&(a.remindType=a.remindType.join(",")),a},actionColumn:{width:120},rowSelection:null},exportConfig:{name:"日常计划列表",url:$},importConfig:{url:ee}}),[y,{reload:c},{rowSelection:i,selectedRowKeys:s}]=_;function P(){e.value.show({isUpdate:!1})}function U(a){e.value.show({record:a,isUpdate:!0})}function E(a){return C(this,null,function*(){yield te({id:a.id},c)})}function R(){return C(this,null,function*(){yield oe({ids:s.value},c)})}function B(a){return[{label:"编辑",onClick:U.bind(null,a)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:E.bind(null,a)}}]}return(a,le)=>{const g=l("a-select-option"),F=l("a-select"),h=l("a-button"),V=l("j-upload-button"),b=l("Icon"),j=l("a-menu-item"),A=l("a-menu"),D=l("a-dropdown");return S(),W(J,null,[o(m(re),{onRegister:m(y),rowSelection:m(i)},{"form-remindType":n(({model:d,field:k})=>[o(F,{placeholder:"请选择提醒类型",mode:"multiple",value:d[k],"onUpdate:value":N=>d[k]=N},{default:n(()=>[o(g,{value:"1"},{default:n(()=>[p("邮件")]),_:1}),o(g,{value:"2"},{default:n(()=>[p("短信")]),_:1}),o(g,{value:"4"},{default:n(()=>[p("系统消息")]),_:1})]),_:2},1032,["value","onUpdate:value"])]),tableTitle:n(()=>[o(h,{type:"primary",preIcon:"ant-design:plus-outlined",onClick:P},{default:n(()=>[p(" 新增")]),_:1}),o(h,{type:"primary",preIcon:"ant-design:export-outlined",onClick:m(f)},{default:n(()=>[p(" 导出")]),_:1},8,["onClick"]),o(V,{type:"primary",preIcon:"ant-design:import-outlined",onClick:m(u)},{default:n(()=>[p("导入")]),_:1},8,["onClick"]),m(s).length>0?(S(),z(D,{key:0},{overlay:n(()=>[o(A,null,{default:n(()=>[o(j,{key:"1",onClick:R},{default:n(()=>[o(b,{icon:"ant-design:delete-outlined"}),p(" 删除 ")]),_:1})]),_:1})]),default:n(()=>[o(h,null,{default:n(()=>[p("批量操作 "),o(b,{icon:"mdi:chevron-down"})]),_:1})]),_:1})):G("",!0)]),action:n(({record:d})=>[o(m(ae),{actions:B(d)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"]),o(O,{ref_key:"planRef",ref:e,onSuccess:m(c)},null,8,["onSuccess"])],64)}}}));export{lt as default};
