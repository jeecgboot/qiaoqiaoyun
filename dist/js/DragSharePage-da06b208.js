var L=Object.defineProperty,R=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var v=(a,t,e)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,k=(a,t)=>{for(var e in t||(t={}))C.call(t,e)&&v(a,e,t[e]);if(h)for(var e of h(t))M.call(t,e)&&v(a,e,t[e]);return a},P=(a,t)=>R(a,B(t));var S=(a,t,e)=>new Promise((d,p)=>{var o=s=>{try{n(e.next(s))}catch(i){p(i)}},l=s=>{try{n(e.throw(s))}catch(i){p(i)}},n=s=>s.done?d(s.value):Promise.resolve(s.value).then(o,l);n((e=e.apply(a,t)).next())});import{_ as w,a7 as V,e as E,R as F,c as O,b as j,l as A}from"./index-831af9dd.js";import{d as b,g as J,a2 as N,r as U,f as x,o as q,V as z,a6 as m,a7 as y,a5 as g,k as T,ak as G,af as H,u as c,F as K,a3 as re,a4 as ie}from"./vue-vendor-24c7dc61.js";import"./index-1c3affea.js";import{a as Q}from"./page.api-9d0cf9bc.js";import W from"./FileLoginModal-147a1764.js";import{J as X}from"./index.umd.min-e2b28327.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./FileLoginForm-d3cceff8.js";import"./checkcode-5ec5fe8f.js";import"./FileMobileForm-03b4c12c.js";import"./index-f99b266a.js";import"./FileForgetPasswordForm-6a66f657.js";import"./FileRegisterForm-45910650.js";import"./FileThirdModal-54f2cb0d.js";import"./searchcursor-9651c8d5.js";import"./codemirror-26b29690.js";import"./china-area-data-vendor-556d14ee.js";import"./renderers-81963a7f.js";import"./vuedraggable-vendor-6ef4bc68.js";import"./grid-layout-vendor-83979c40.js";import"./active-line-512fef49.js";const Y={key:0,class:"container"},Z={class:"lockIcon"},$={class:"noPassText"},ee=b({name:"drag-share-page"}),te=b(P(k({},ee),{setup(a){var f;(f=J())==null||f.appContext.app.use(X),w(()=>Promise.resolve({}),["assets/index-8f6661ca.css"]);const t=V(),{currentRoute:e}=N(),[d,{openModal:p}]=E(),o=U({noPass:!0,noPassText:""}),l=x(),n=x();function s(){const{params:r,path:u}=c(e);let _=u.lastIndexOf("/");n.value=r.id?r.id:u.substr(_+1);let I=t.getUserInfo;I&&Object.keys(I).length>0?i():p(!0,{})}function i(){return S(this,null,function*(){let r=yield Q({id:c(n)});if(r.success)l.value=r.result.tenantId,o.noPass=!1;else{o.noPass=!0,o.noPassText="仪表盘配置有误，请联系管理员";return}})}function D(r){i()}return q(()=>{s()}),(r,u)=>{const _=z("SharePage");return m(),y(K,null,[g("div",null,[o.noPass?(m(),y("div",Y,[g("div",Z,[T(F,{icon:"lock|svg",style:{width:"60px",height:"60px"}})]),g("div",$,G(o.noPassText),1)])):(m(),H(_,{key:1,pageId:n.value,shareTenantId:l.value,isLowApp:!1,tenantId:c(O)(),token:c(j)()},null,8,["pageId","shareTenantId","tenantId","token"]))]),T(W,{onRegister:c(d),onSuccess:D,closable:!1,maskClosable:!1},null,8,["onRegister"])],64)}}}));const Be=A(te,[["__scopeId","data-v-e7315ed5"]]);export{Be as default};
