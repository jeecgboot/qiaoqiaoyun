var A=Object.defineProperty,L=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var v=(i,o,t)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[o]=t,z=(i,o)=>{for(var t in o||(o={}))K.call(o,t)&&v(i,t,o[t]);if(k)for(var t of k(o))j.call(o,t)&&v(i,t,o[t]);return i},T=(i,o)=>L(i,G(o));var c=(i,o,t)=>new Promise((g,d)=>{var m=a=>{try{s(t.next(a))}catch(l){d(l)}},w=a=>{try{s(t.throw(a))}catch(l){d(l)}},s=a=>a.done?g(a.value):Promise.resolve(a.value).then(m,w);s((t=t.apply(i,o)).next())});import{d as R,f as q,r as H,V as f,a6 as J,a7 as Q,k as n,ai as p,E as _,a5 as C,u as h,F as W}from"./vue-vendor-24c7dc61.js";import X from"./CardList-6528fb84.js";import Y from"./PageModal-071f601d.js";import Z from"./PasswordModal-105dafd8.js";import ee from"./DragPageModal-10ed124f.js";import"./index-1c3affea.js";import{e as P,a as te,r as oe}from"./index-831af9dd.js";import{l as ae,d as D,c as ie,s as se}from"./page.api-9d0cf9bc.js";import{s as ne}from"./page.data-58dba86c.js";import"./antd-vue-vendor-0d72f01e.js";import"./index-52c8c841.js";import"./useForm-14b2bc77.js";import"./componentMap-c857637c.js";import"./useFormItem-86503382.js";import"./BasicModal-58413bab.js";import"./useWindowSizeFn-8f085f6f.js";import"./download-1ac6acce.js";import"./index-f99b266a.js";import"./JSelectUser-a44af43a.js";import"./useSelectBiz-2f560b0b.js";import"./props-8a7ac45b.js";import"./JSelectBiz-55a9591f.js";import"./JImageUpload-d644253a.js";import"./JDictSelectTag-54dc3bdb.js";import"./JSelectDept-a90caee3.js";import"./index-f2fd5a28.js";import"./useContextMenu-810f9346.js";import"./areaDataUtil-cdeee717.js";import"./china-area-data-vendor-556d14ee.js";import"./JPopup-2a779923.js";import"./useMethods-f689b480.js";import"./JCheckbox-0b89d32a.js";import"./vxe-table-vendor-8813019a.js";import"./JSelectUserByDept-bd619076.js";import"./UserSelectByDepModal-db060ece.js";import"./depart.api-339f4da6.js";import"./JUpload-76e119c7.js";import"./index-d508f1f4.js";import"./index-6507b9cd.js";import"./index-4d0525a5.js";import"./UserSelectModal-d78c1490.js";import"./helper-22dafba0.js";import"./JAreaLinkage-173780c9.js";import"./JCodeEditor-66bd225e.js";import"./codemirror-17b6f671.js";import"./codemirror-26b29690.js";import"./active-line-512fef49.js";import"./EasyCronInput-b2123242.js";import"./JEditor-249b2194.js";import"./index-b845562c.js";import"./DragShareModal-e8a77dc5.js";import"./clipboard-695289c6.js";import"./index.umd.min-e2b28327.js";import"./searchcursor-9651c8d5.js";import"./renderers-81963a7f.js";import"./vuedraggable-vendor-6ef4bc68.js";import"./grid-layout-vendor-83979c40.js";const re=R({name:"drag-page"}),dt=R(T(z({},re),{setup(i){const[o,{openModal:t}]=P(),[g,{openModal:d}]=P(),m=q(),{createMessage:w}=te();let s=e=>{};const a=H({type:"1",izTemplate:"0"});function l(e){s=e}function S(e){s(),e&&M(e)}function V(){t(!0,{isUpdate:!1})}function x(e){e.protectionCode&&e.protectionCode.length>0?m.value.showModal("edit",e):t(!0,{record:e,isUpdate:!0})}function F(e,r){return c(this,null,function*(){e=="edit"?t(!0,{record:r,isUpdate:!0}):e=="delete"&&(yield D({id:r.id},s))})}function U(e){return c(this,null,function*(){e.protectionCode&&e.protectionCode.length>0?(m.value.showModal("delete",e),m.value.extraMsg="面板被保护中,删除前请先输入保护码"):yield D({id:e.id},s)})}function M(e){d(!0,{record:e,isUpdate:!0})}function E(e){oe.push({name:"drag-page-view-@id",params:{id:e}})}function N(e){return c(this,null,function*(){yield ie({id:e},s),w.success("复制成功")})}function O(e,r){return c(this,null,function*(){const u=yield se({id:e,izTemplate:r},!0);s()})}function B(e){e!=="3"?(a.type=e,a.izTemplate="0"):(a.type="",a.izTemplate="1"),s({pageNo:1})}function I(){s()}return(e,r)=>{const b=f("a-button"),u=f("Icon"),y=f("a-tab-pane"),$=f("a-tabs");return J(),Q(W,null,[n(X,{searchFormSchema:h(ne),params:a,api:h(ae),onGetMethod:l,onDelete:U,onView:E,onDesign:M,onEdit:x,onCopy:N,onTemplate:O},{header:p(()=>[n(b,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:V},{default:p(()=>[_("新增")]),_:1})]),cardTitle:p(()=>[n($,{defaultActiveKey:"1",onChange:B,size:"small"},{default:p(()=>[n(y,{key:"1"},{tab:p(()=>[C("span",null,[n(u,{icon:"ant-design:bar-chart-outlined",size:20}),_(" 仪表盘设计 ")])]),_:1}),n(y,{key:"2"},{tab:p(()=>[C("span",null,[n(u,{icon:"ant-design:appstore-outlined",size:20}),_(" 门户设计器 ")])]),_:1}),n(y,{key:"3"},{tab:p(()=>[C("span",null,[n(u,{icon:"ant-design:star-outlined",size:20}),_(" 模板案例 ")])]),_:1})]),_:1})]),_:1},8,["searchFormSchema","params","api"]),n(Y,{onRegister:h(o),onSuccess:S},null,8,["onRegister"]),n(Z,{ref_key:"passwordRef",ref:m,onSuccess:F},null,512),n(ee,{onRegister:h(g),onSuccess:I,isLowApp:!1},null,8,["onRegister"])],64)}}}));export{dt as default};
