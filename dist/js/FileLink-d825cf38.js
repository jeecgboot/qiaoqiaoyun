var V=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var g=(e,a,t)=>a in e?V(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,x=(e,a)=>{for(var t in a||(a={}))M.call(a,t)&&g(e,t,a[t]);if(h)for(var t of h(a))O.call(a,t)&&g(e,t,a[t]);return e},y=(e,a)=>B(e,D(a));import{d as L,f as u,V as w,a6 as T,af as z,ai as N,a5 as o,ak as A,u as i,k as I,a3 as $,a4 as j}from"./vue-vendor-24c7dc61.js";import{c as q,e as E}from"./FileList.api-9749c044.js";import{a as G,l as H}from"./index-831af9dd.js";import{L as J}from"./link-d33a2dbc.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const C=e=>($("data-v-2c790256"),e=e(),j(),e),K={class:"new-version"},P={style:{"font-size":"17px","font-weight":"normal"}},Q=["src"],R={class:"file-form",style:{"margin-top":"20px"}},W={class:"file-item"},X=C(()=>o("div",{class:"file-item-label"},"文件名",-1)),Y={class:"file-item-content"},Z={class:"file-item"},ee=C(()=>o("div",{class:"file-item-label"},"添加说明",-1)),ae={class:"file-item-content"},te=L({name:"file-link"}),le=L(y(x({},te),{emits:["ok"],setup(e,{expose:a,emit:t}){const c=u(!1),l=u({}),m=G(),k=u(""),_=u(!1),p=u("创建"),f=u("添加链接");function F(n){k.value=n,p.value="创建",f.value="添加链接",l.value={},_.value=!1,c.value=!0}function b(n){l.value=n,p.value="保存",f.value="编辑链接",c.value=!0,_.value=!0}function U(){if(!i(l).fileName){m.createMessage.warning("文件名名称不能为空");return}if(!i(l).url){m.createMessage.warning("链接url不能为空");return}let n=l.value.fileName;if(i(l).fileName.lastIndexOf(".url")==-1&&(n=n+".url"),i(_))E({id:i(l).id,fileName:n,url:i(l).url}).then(s=>{s.success&&(t("ok"),v())});else{let s={fileName:n,fileType:"other",izFolder:"0",storeType:"manage",parentId:i(k),delFlag:"0",url:i(l).url,enableDown:"1",enableUpdat:"1"};q(s).then(d=>{d.success&&(t("ok"),v())})}}function v(){c.value=!1}return a({addLink:F,editLink:b}),(n,s)=>{const d=w("a-input"),S=w("a-modal");return T(),z(S,{open:c.value,"onUpdate:open":s[2]||(s[2]=r=>c.value=r),wrapClassName:"modal","ok-text":p.value,onOk:U,onCancel:v},{title:N(()=>[o("div",K,[o("span",P,A(f.value),1),o("img",{class:"file-icon",src:i(J)},null,8,Q)])]),default:N(()=>[o("div",R,[o("div",W,[X,o("div",Y,[I(d,{value:l.value.fileName,"onUpdate:value":s[0]||(s[0]=r=>l.value.fileName=r),style:{width:"90%"}},null,8,["value"])])]),o("div",Z,[ee,o("div",ae,[I(d,{value:l.value.url,"onUpdate:value":s[1]||(s[1]=r=>l.value.url=r),placeholder:"http://",style:{width:"90%"}},null,8,["value"])])])])]),_:1},8,["open","ok-text"])}}}));const de=H(le,[["__scopeId","data-v-2c790256"]]);export{de as default};
