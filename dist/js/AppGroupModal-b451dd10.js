var C=(d,e,i)=>new Promise((o,s)=>{var c=l=>{try{_(i.next(l))}catch(f){s(f)}},v=l=>{try{_(i.throw(l))}catch(f){s(f)}},_=l=>l.done?o(l.value):Promise.resolve(l.value).then(c,v);_((i=i.apply(d,e)).next())});import{I as k,a_ as E}from"./antd-vue-vendor-0d72f01e.js";import{f as g,e as w,a3 as B,a4 as T,a5 as a,V as u,a6 as M,af as U,ai as p,ak as F,k as r,E as x}from"./vue-vendor-24c7dc61.js";import G from"./JEditor-249b2194.js";import D from"./AppIconSelector-c6c055a9.js";import{R as P,l as V}from"./index-831af9dd.js";import{u as z}from"./useAppCurd-f2486678.js";import"./index-b845562c.js";import"./vxe-table-vendor-8813019a.js";import"./VipPay.api-469f07f9.js";import"./lowAppAuth-3d637b7d.js";import"./lowAppUtils-56892d30.js";const O={name:"AppGroupModal",components:{InfoCircleFilled:k,JEditor:G,EditOutlined:E,AppIconSelector:D,Icon:P},emits:["success"],setup(d,{emit:e}){const i=g(!1),o=g(""),s=g(""),c=g(""),v=g(""),{saveAppGroup:_,updateAppGroup:l}=z();function f(){o.value="ant-design:folder-open-outlined",s.value="",c.value="self",v.value="",m.value=!1}const m=g(!1),h=w(()=>m.value===!0?"编辑分组":"添加分组");function y(){i.value=!1}function I(){return C(this,null,function*(){const n={groupName:s.value,useScope:c.value,iconType:o.value};m.value===!0?(n.id=v.value,yield l(n)):yield _(n),e("success"),y()})}function t(n){f(),i.value=!0,n&&n.id&&(m.value=!0,o.value=n.iconType,s.value=n.groupName,c.value=n.useScope,v.value=n.id)}const A=w(()=>!s.value),b=g(!1);function N(n){return n.parentNode}return{visible:i,title:h,iconType:o,useScope:c,groupName:s,showIconSelect:b,getPopupContainer:N,save:I,closeModal:y,openModal:t,disabledButton:A}}};const S=d=>(B("data-v-a9f9339a"),d=d(),T(),d),R={style:{padding:"5px 24px 32px"}},J={style:{"margin-top":"12px"}},j=S(()=>a("div",{style:{color:"#757575",height:"32px","line-height":"32px","margin-right":"10px"}}," 名称: ",-1)),q={style:{"margin-top":"12px"}},H=S(()=>a("div",{style:{color:"#757575",height:"32px","line-height":"32px","margin-right":"10px"}}," 使用范围: ",-1)),K={style:{color:"#333","font-size":"17px","font-weight":"700"}},L={style:{display:"flex"}},Q=S(()=>a("div",{style:{flex:"1"}},null,-1));function W(d,e,i,o,s,c){const v=u("Icon"),_=u("AppIconSelector"),l=u("a-dropdown"),f=u("a-input"),m=u("a-radio"),h=u("a-radio-group"),y=u("a-button"),I=u("a-modal");return M(),U(I,{open:o.visible,"onUpdate:open":e[6]||(e[6]=t=>o.visible=t),width:480,destroyOnClose:"",centered:""},{title:p(()=>[a("div",K,F(o.title),1)]),footer:p(()=>[a("div",L,[Q,a("div",null,[r(y,{type:"text",onClick:o.closeModal,style:{"margin-right":"10px"}},{default:p(()=>[x("取消")]),_:1},8,["onClick"]),r(y,{type:"primary",onClick:e[5]||(e[5]=t=>o.save()),disabled:o.disabledButton},{default:p(()=>[x("确认")]),_:1},8,["disabled"])])])]),default:p(()=>[a("div",R,[a("div",J,[j,a("div",null,[r(f,{value:o.groupName,"onUpdate:value":e[3]||(e[3]=t=>o.groupName=t),style:{width:"100%"}},{addonAfter:p(()=>[r(l,{overlayStyle:{width:"300px","margin-top":"5px"},open:o.showIconSelect,"onUpdate:open":e[2]||(e[2]=t=>o.showIconSelect=t),placement:"bottomRight",trigger:["click"],overlayClassName:"app-update-dropdown",getPopupContainer:o.getPopupContainer},{overlay:p(()=>[a("div",null,[r(_,{value:o.iconType,"onUpdate:value":e[0]||(e[0]=t=>o.iconType=t),onChange:e[1]||(e[1]=t=>o.showIconSelect=!1)},null,8,["value"])])]),default:p(()=>[r(v,{icon:o.iconType,style:{"font-size":"18px","margin-top":"4px",cursor:"pointer"}},null,8,["icon"])]),_:1},8,["open","getPopupContainer"])]),_:1},8,["value"])])]),a("div",q,[H,a("div",null,[r(h,{value:o.useScope,"onUpdate:value":e[4]||(e[4]=t=>o.useScope=t),class:"app-group-usescope"},{default:p(()=>[r(m,{value:"self"},{default:p(()=>[x("个人")]),_:1}),r(m,{value:"org",disabled:""},{default:p(()=>[x("组织")]),_:1})]),_:1},8,["value"])])])])]),_:1},8,["open"])}const so=V(O,[["render",W],["__scopeId","data-v-a9f9339a"]]);export{so as default};
