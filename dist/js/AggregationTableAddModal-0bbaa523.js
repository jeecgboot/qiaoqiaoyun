var M=Object.defineProperty;var v=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var y=(a,o,e)=>o in a?M(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,g=(a,o)=>{for(var e in o||(o={}))A.call(o,e)&&y(a,e,o[e]);if(v)for(var e of v(o))B.call(o,e)&&y(a,e,o[e]);return a};var f=(a,o,e)=>new Promise((m,c)=>{var d=t=>{try{l(e.next(t))}catch(i){c(i)}},u=t=>{try{l(e.throw(t))}catch(i){c(i)}},l=t=>t.done?m(t.value):Promise.resolve(t.value).then(d,u);l((e=e.apply(a,o)).next())});import{d as F,f as T,e as k,u as r,V as x,a6 as I,af as C,ai as _,k as h,E as N,ag as O}from"./vue-vendor-24c7dc61.js";import{B as S}from"./index-1c3affea.js";import"./index-52c8c841.js";import{s as j}from"./aggregation.api-c441389c.js";import{u as P,B as R}from"./useForm-14b2bc77.js";import{j as V}from"./index-831af9dd.js";const K=[{label:"名称",field:"aggregationName",component:"Input",colProps:{span:6}}],L=[{label:"",field:"id",component:"Input",show:!1},{label:"名称",field:"aggregationName",component:"Input",required:!0},{label:"简介",field:"aggregationDesc",component:"InputTextArea",required:!1}],U=F({__name:"AggregationTableAddModal",emits:["success","register"],setup(a,{emit:o}){const e=T(!1),[m,{resetFields:c,setFieldsValue:d,validate:u}]=P({schemas:L,showActionButtonGroup:!1}),[l,{setModalProps:t,closeModal:i}]=V(s=>f(this,null,function*(){if(yield c(),t({confirmLoading:!1}),e.value=!!(s!=null&&s.isUpdate),r(e)){let n=g({},s.record);yield d(g({},n))}})),w=k(()=>r(e)?"编辑":"新增");function b(s=0){return f(this,null,function*(){try{const n=yield u();t({confirmLoading:!0});const p=yield j(n,e.value);i(),o("success",s===1?p:null)}finally{t({confirmLoading:!1})}})}return(s,n)=>{const p=x("a-button");return I(),C(r(S),O(s.$attrs,{onRegister:r(l),okText:"保存",title:w.value,onOk:b,width:700,destroyOnClose:""}),{appendFooter:_(()=>[h(p,{type:"primary",onClick:n[0]||(n[0]=q=>b(1))},{default:_(()=>[N("保存并设计")]),_:1})]),default:_(()=>[h(r(R),{onRegister:r(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"])}}}),Q=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{Q as A,U as _,K as s};
