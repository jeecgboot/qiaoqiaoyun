var C=Object.defineProperty,G=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var S=(e,u,r)=>u in e?C(e,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[u]=r,i=(e,u)=>{for(var r in u||(u={}))v.call(u,r)&&S(e,r,u[r]);if(Q)for(var r of Q(u))h.call(u,r)&&S(e,r,u[r]);return e},f=(e,u)=>G(e,R(u));var n=(e,u,r)=>new Promise((a,o)=>{var y=s=>{try{d(r.next(s))}catch(t){o(t)}},m=s=>{try{d(r.throw(s))}catch(t){o(t)}},d=s=>s.done?a(s.value):Promise.resolve(s.value).then(y,m);d((r=r.apply(e,u)).next())});import{k as p}from"./index-831af9dd.js";import{h as T}from"./antd-vue-vendor-0d72f01e.js";const c={save:"/desform/superQuery/save",update:"/desform/superQuery/update",remove:"/desform/superQuery/remove",rename:"/desform/superQuery/rename",copy:"/desform/superQuery/copy",list:"/desform/superQuery/list",updateSelected:"/desform/superQuery/updateSelected"};function I(e){function u(s){return n(this,null,function*(){let t=f(i({},s),{code:e.routeCode});const l=yield p.post({url:c.save,params:t},{isTransformResponse:!1});return l.success?{id:l.result,code:e.routeCode}:{}})}function r(s){return n(this,null,function*(){let t=i({},s);const l=yield p.post({url:c.copy,params:t},{isTransformResponse:!1});return l.success?{id:l.result,code:e.routeCode}:{}})}function a(s){return n(this,null,function*(){let t=i({},s);return(yield p.post({url:c.rename,params:t},{isTransformResponse:!1})).success,{}})}function o(s){return n(this,null,function*(){let t=i({},s);yield p.post({url:c.update,params:t},{isTransformResponse:!1})})}function y(s){return n(this,null,function*(){let t=f(i({},s),{code:e.routeCode});yield p.post({url:c.updateSelected,params:t},{isTransformResponse:!1})})}function m(s){return n(this,null,function*(){let t={id:s};yield p.delete({url:c.remove,data:t},{joinParamsToUrl:!0})})}function d(){return n(this,null,function*(){let s={code:e.routeCode};const t=yield p.get({url:c.list,params:s},{isTransformResponse:!1});return t.success?t.result:[]})}return{saveSuperQuery:u,udapteSuperQueryTitle:a,copySuperQuery:r,updateSuperQuery:o,removeSuperQuery:m,querySuperQueryList:d,updateSelected:y}}function U(e,u){let r=T(u);if(r&&r.superQueryGroup&&u.superQueryGroup.length>1){let a=r.superQueryGroup,o=T(e);if(o&&o.superQueryParams){let y=decodeURIComponent(o.superQueryParams);a.push({matchType:o.matchType,queryItems:y}),r.superQueryGroup=a}return encodeURIComponent(JSON.stringify(r))}else{if(e&&e.superQueryParams){let a={matchType:e.matchType,superQueryGroup:e.superQueryParams};return encodeURIComponent(JSON.stringify(a))}return e}}export{U as g,I as u};
