import{d as V,c as T,f as y,a3 as q,a4 as A,V as p,a6 as u,a7 as g,F as $,a5 as n,af as C,ai as t,ak as F,k as o,E as k,W as w}from"./vue-vendor-24c7dc61.js";import I from"./RenameModal-eec148b3.js";import{d as j}from"./vuedraggable-vendor-6ef4bc68.js";import{l as D}from"./index-831af9dd.js";import"./antd-vue-vendor-0d72f01e.js";import"./vxe-table-vendor-8813019a.js";const M=V({name:"MergeTableFieldConfig",components:{draggable:j,RenameModal:I},props:{bizType:{type:String}},emits:["edit"],setup(e,{emit:r}){let _=T("tableRelationObj");const f=y(),b=y(!1);function h(c,i){f.value.showModal(c,i,e.bizType)}function l(c,i){r("edit",c)}function m(c,i){e.bizType=="number"?_.calculateFields.splice(i,1):_.headerFields.splice(i,1)}return{operateShow:b,tableRelationObj:_,rename:h,renameRef:f,removeField:m,editField:l}}});const L={class:"option",style:{"overflow-y":"auto","max-height":"50vh"}},N={class:"marginTop10"},O={style:{"list-style":"none","padding-inline-start":"0"}},S={class:"fieldItem pointer"},z={class:"title overflow_ellipsis"},B={class:"operator"},P={class:"fieldItem pointer"},E={class:"title overflow_ellipsis"},J={class:"operator"};function U(e,r,_,f,b,h){const l=p("JIcon"),m=p("a-menu-item"),c=p("a-menu"),i=p("a-dropdown"),v=p("draggable"),R=p("RenameModal");return u(),g($,null,[n("div",L,[n("div",N,[n("ul",O,[e.bizType=="name"?(u(),C(v,{key:0,modelValue:e.tableRelationObj.headerFields,"onUpdate:modelValue":r[0]||(r[0]=a=>e.tableRelationObj.headerFields=a),animation:300,"ghost-class":"ghost","force-fallback":!0,"item-key":"key",handle:".handle"},{item:t(({element:a,index:s})=>[(u(),g("li",{key:s,class:"field-li"},[n("div",S,[n("span",z,F(a.name),1),n("div",B,[o(l,{icon:"ant-design:drag-outlined",class:"handle"}),o(i,{getPopupContainer:d=>d.parentNode,trigger:["click"],placement:"bottomLeft"},{overlay:t(()=>[o(c,null,{default:t(()=>[o(m,{key:"1",onClick:d=>e.rename(a,s)},{default:t(()=>[k("重命名")]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[o(l,{icon:"ant-design:down-outlined",class:"down marginLeft5"})]),_:2},1032,["getPopupContainer"]),o(l,{icon:"ant-design:close-outlined",class:"del marginLeft5",onClick:d=>e.removeField(a,s)},null,8,["onClick"])])])]))]),_:1},8,["modelValue"])):w("",!0),e.bizType=="number"?(u(),C(v,{key:1,modelValue:e.tableRelationObj.calculateFields,"onUpdate:modelValue":r[1]||(r[1]=a=>e.tableRelationObj.calculateFields=a),animation:300,"ghost-class":"ghost","force-fallback":!0,"item-key":"key",handle:".handle"},{item:t(({element:a,index:s})=>[(u(),g("li",{key:s,class:"field-li"},[n("div",P,[n("span",E,F(a.name),1),n("div",J,[o(l,{icon:"ant-design:drag-outlined",class:"handle"}),o(i,{getPopupContainer:d=>d.parentNode,trigger:["click"],placement:"bottomLeft"},{overlay:t(()=>[o(c,null,{default:t(()=>[o(m,{key:"1",onClick:d=>e.rename(a,s)},{default:t(()=>[k("重命名")]),_:2},1032,["onClick"]),o(m,{key:"2",onClick:d=>e.editField(a,s)},{default:t(()=>[k("编辑")]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[o(l,{icon:"ant-design:down-outlined",class:"down marginLeft5"})]),_:2},1032,["getPopupContainer"]),o(l,{icon:"ant-design:close-outlined",class:"del marginLeft5",onClick:d=>e.removeField(a,s)},null,8,["onClick"])])])]))]),_:1},8,["modelValue"])):w("",!0)])])]),o(R,{ref:"renameRef"},null,512)],64)}const Y=D(M,[["render",U],["__scopeId","data-v-d761e2ed"]]);export{Y as default};
