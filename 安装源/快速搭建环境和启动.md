## 快速安装启动文档

###  一、基础软件安装


* mysql 5.7+
* mogodb 6.0.2+
* redis
* jdk8/17


###  二、数据库创建


- 3.1 使用mysql数据库，执行初始化脚本qiaoqiaoyun.sql，会自动创建数据库qiaoqiaoyun

![](https://oscimg.oschina.net/oscnet/up-7500e8431957f58607cb39bf59530e90b17.png)


- 3.2 在mogodb中创建数据库 qiaoqiaoyun即可，无需执行初始化SQL

![](https://oscimg.oschina.net/oscnet/up-fc0b424b9929b19d2aa2cf860d11e9202e8.png)

###  三、启动项目配置文件修改

配置文件主要涉及，mysql和mogodb的数据库配置、redis配置、云存储、阿里大鱼短信配置，配置文件在 ` config/application-dev.yml`

### 3.1 修改mysql数据库配置

![](https://oscimg.oschina.net/oscnet/up-73ab2d3b1ebd4de392b6c91c2e28678747f.png)

### 3.2 修改mongo数据库配置

![](https://oscimg.oschina.net/oscnet/up-a67d0faa6a9b2e43d734ae52022556781bf.png)

### 3.3 修改redis配置

![](https://oscimg.oschina.net/oscnet/up-40dc478d7c8c93f8debf9c44a5e176efd5a.png)

### 3.4 阿里云存储配置

![](https://oscimg.oschina.net/oscnet/up-74f1940f9ac3cea390c8aa4b79a48e0c566.png)

### 4.5 阿里大鱼短信配置

![](https://oscimg.oschina.net/oscnet/up-5f04ead1b63455a351f7d813f5b3add067a.png)

###  四、项目部署与启动

#### 4.1 启动后台JAVA服务
- 启动命令
```
java -javaagent:qiaoqiaoyun-start-2.0.jar="-pwd 5eez3Vqil97n" -jar qiaoqiaoyun-start-2.0.jar
```

- 启动成功界面

![](https://oscimg.oschina.net/oscnet/up-77cf956d12dbd68f679e42b2914c099ce26.png)

![](https://oscimg.oschina.net/oscnet/up-0ced8f8c6fe0284ca3a300bc210eeca8947.png)

#### 4.2 前端采用nginx部署

#####  Nginx部署
将dist.zip解压通过nginx访问

```
upstream localhost {
  server 127.0.0.1:80;
 }
server {
    listen       80;
    server_name  localhost;
    #前端dist.zip解压到这个目录
    root      /srv/www/project;

    location / {
         # 用于配合 browserHistory使用
         try_files $uri $uri/ /index.html;
    }

    #映射后台接口地址
    location  /qiaoqiaoyun/ {
        proxy_pass         http://127.0.0.1:8080/;
        proxy_redirect off;
        proxy_set_header  Host             $host;
        proxy_set_header  X-Real-IP        $remote_addr;
        set $my_proxy_add_x_forwarded_for $proxy_add_x_forwarded_for;
        if ($proxy_add_x_forwarded_for ~* "127.0.0.1"){
          set $my_proxy_add_x_forwarded_for $remote_addr;
        }
        proxy_set_header   X-Forwarded-For $my_proxy_add_x_forwarded_for;
    }

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    }
}
```


#####  配置后端接口
 修改dist.zip解压后的文件_app.config.js

![](https://oscimg.oschina.net/oscnet/up-738bdbc9a18937d654698fdbbc91624a300.png)

![](https://oscimg.oschina.net/oscnet/up-bbcf58c69710cc69c5182578e048f9c29e2.png)

#####  访问系统

- 登录账号
 默认账号admin, 密码123456

- 登录页面效果

![](https://oscimg.oschina.net/oscnet/up-59b983dedd8c43f7ea5b784b1584e0a6704.png)

 - 进入平台效果

 ![](https://oscimg.oschina.net/oscnet/up-40655b7b552de38a6b2edaef2959f878466.png)
